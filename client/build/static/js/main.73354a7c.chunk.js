(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t){},167:function(e,t,a){},431:function(e,t,a){},437:function(e,t){},438:function(e,t){},442:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(27),o=a.n(c),i=(a(167),a(52)),s=a(22),l=(a(96),a(4));var d=Object(s.f)((function(e){var t=sessionStorage.getItem("token"),a=JSON.parse(t).username;return Object(l.jsx)("div",{className:"navigation",children:Object(l.jsx)("nav",{class:"navbar navbar-expand navbar-dark grid-bg-colour",children:Object(l.jsxs)("div",{class:"container",children:[Object(l.jsxs)(i.b,{class:"navbar-brand",to:"/",children:[a," - WMS Portal"]}),Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{class:"navbar-nav ml-auto",children:[Object(l.jsx)("li",{class:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(l.jsxs)(i.b,{class:"nav-link",to:"/",children:["Stock",Object(l.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"spacer"})}),Object(l.jsx)("li",{class:"nav-item  ".concat("/Login"===e.location.pathname?"active":""),children:Object(l.jsx)(i.b,{class:"nav-link",to:"/",onClick:function(){sessionStorage.removeItem("token"),window.location.reload(!1)},children:"Sign Out"})})]})})]})})})}));var u=function(){return Object(l.jsx)("footer",{className:"grid-bg-colour fixed-bottom",style:{paddingTop:10},children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 HQ Software 2021, v0.08"})})})},j=a(28),b=a(73),h=a.n(b);a(428),a(429),a(430);a(431);var p=a(33),m=a(39),x=a(47),f=a(46),O=a(60),v=(a(432),a.p+"static/media/PDFLogo.d3482e1c.png"),y=a(45),g=a(74),S=a.n(g),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WMS_Products.xlsx",a=document.createElement("a"),n=URL.createObjectURL(e);a.setAttribute("href",n),a.setAttribute("download",t),a.style.position="absolute",a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)};var T=function(e,t){var a=document.createElement("a"),n=URL.createObjectURL(e);a.setAttribute("href",n),a.setAttribute("download","WMS_Locations_"+t+".xlsx"),a.style.position="absolute",a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)};var w=function(e,t){var a=document.createElement("a"),n=URL.createObjectURL(e);a.setAttribute("href",n),a.setAttribute("download","hqWMS_Movements_"+t+".xlsx"),a.style.position="absolute",a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)};var P=a(75),C=a(76);var F=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(j.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)([]),u=Object(j.a)(d,2),b=u[0],g=u[1],F=Object(n.useState)(""),N=Object(j.a)(F,2),D=N[0],L=N[1];Object(n.useEffect)((function(){r(function(e){var t=0;return{data:function(e){var a=e;return""===a&&(a="EMPTY_SEARCH_STRING"),fetch("/returnStock/"+a).then((function(e){return e.json().then((function(e){return t=e.length,{data:e,count:e.length}}))}))}(e),count:t}}(D).data)}),[D]);var M={minHeight:"35vh",margin:10},I=Object(n.useState)(null),_=Object(j.a)(I,2),E=_[0],A=_[1],Q=Object(n.useCallback)((function(e){var t=e.selected;A(t),s(function(e){return fetch("/returnLocations/"+e).then((function(e){return e.json()}))}(t)),g(function(e){return fetch("/returnStkMovements/"+e).then((function(e){return e.json()}))}(t))}),[]),R=Object(n.useState)(null),W=Object(j.a)(R,2),Y=W[0],U=W[1],z=Object(n.useState)(null),B=Object(j.a)(z,2),H=B[0],J=B[1],X=Object(n.useState)(null),q=Object(j.a)(X,2),G=q[0],V=q[1],Z=!0;return Z=null===E,Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"stock-container",children:[Object(l.jsxs)("div",{className:"filter",children:[Object(l.jsx)(p.a.Label,{className:"search-label",children:"Search: \xa0"}),Object(l.jsx)("div",{className:"text-input",children:Object(l.jsx)(p.a.Control,{size:"sm",type:"text",placeholder:"Search...",value:D,onChange:function(e){L(e.target.value),s([]),g([])}})}),Object(l.jsxs)("div",{className:"stock_exports",children:[Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-excel",children:"Products to Excel"}),children:Object(l.jsx)(m.a,{variant:"secondary",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e){var t={Sheets:{data:y.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},a=y.write(t,{bookType:"xlsx",type:"array"}),n=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k(n)}(Y)},children:Object(l.jsx)(P.a,{})})},"CSVEXPORT"),Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-pdf",children:"Products to PDF"}),children:Object(l.jsx)(m.a,{variant:"secondary",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var a=new O.default("landscape","pt"),n=[];n=[[e.current.data[0].Product,e.current.data[0].Description,e.current.data[0].Quantity]];for(var r=[],c=1;c<e.current.data.length;c++)r=[e.current.data[c].Product,e.current.data[c].Description,e.current.data[c].Quantity],n.push(r);var o,i=" WMS Products    -    "+S()(new Date).format("Do MMMM YYYY");o=["Product","Description","Quantity"],a.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[o],body:n,didDrawPage:function(e){a.setFontSize(18),a.setTextColor(40),v&&a.addImage(v,"ico",20,20,46.5,48,v,"FAST",0),a.text(i,e.settings.margin.left+50,50),a.setFontSize(8)},margin:{top:80}}),a.save("WMS_Products.pdf")}(Y)},children:Object(l.jsx)(C.a,{})})},"PDFEXPORT")]}),Object(l.jsxs)("div",{className:"locations_exports",children:[Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-excel",children:"Locations to Excel"}),children:Object(l.jsx)(m.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var a={Sheets:{data:y.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},n=y.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});T(r,t)}(H,E)},disabled:Z,children:Object(l.jsx)(P.a,{})})},"CSVEXPORT"),Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-pdf",children:"Locations to PDF"}),children:Object(l.jsx)(m.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var a=new O.default("landscape","pt"),n=[];n=[[e.current.data[0].Location,e.current.data[0].BatchID,e.current.data[0].Expiry,e.current.data[0].Qty]];for(var r=[],c=1;c<e.current.data.length;c++)r=[e.current.data[c].Location,e.current.data[c].BatchID,e.current.data[c].Expiry,e.current.data[c].Qty],n.push(r);var o,i=" WMS Locations - "+t+"    -    "+S()(new Date).format("Do MMMM YYYY");o=["Location","BatchID","Expiry","Quantity"],a.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[o],body:n,didDrawPage:function(e){a.setFontSize(18),a.setTextColor(40),v&&a.addImage(v,"ico",20,20,46.5,48,v,"FAST",0),a.text(i,e.settings.margin.left+50,50),a.setFontSize(8)},margin:{top:80}});var s="WMS_Locations_"+t+".pdf";a.save(s)}(H,E)},disabled:Z,children:Object(l.jsx)(C.a,{})})},"PDFEXPORT")]})]}),Object(l.jsxs)("div",{className:"grid-container",children:[Object(l.jsx)("div",{className:"stock-grid",children:Object(l.jsx)(h.a,{idProperty:"Product",columns:[{name:"Product",header:"Product",type:"string",defaultFlex:0},{name:"Description",header:"Description",type:"string",defaultFlex:1},{name:"Quantity",header:"Total",type:"number",defaultFlex:0,textAlign:"end"}],dataSource:a,style:{minHeight:"83vh",margin:10},theme:"default-dark",enableSelection:!0,onSelectionChange:Q,handle:U})}),Object(l.jsxs)("div",{className:"product-view",children:[Object(l.jsx)("div",{className:"location-grid",children:Object(l.jsx)(h.a,{idProperty:"Location",columns:[{name:"Location",header:"Location",type:"string",defaultFlex:1},{name:"BatchID",header:"Batch",type:"string",defaultFlex:1},{name:"Expiry",header:"Expiry",type:"string",defaultFlex:1},{name:"Qty",header:"Quantity",type:"number",defaultFlex:1,textAlign:"end"}],dataSource:i,style:M,handle:J})}),Object(l.jsxs)("div",{className:"history_exports",children:[Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-excel-hist",children:"Movement History to Excel"}),children:Object(l.jsx)(m.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var a={Sheets:{data:y.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},n=y.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w(r,t)}(G,E)},disabled:Z,children:Object(l.jsx)(P.a,{})})},"CSVEXPORT_hist"),Object(l.jsx)(x.a,{placement:"bottom",overlay:Object(l.jsx)(f.a,{id:"tooltip-pdf-hist",children:"Movement History to PDF"}),children:Object(l.jsx)(m.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var a=new O.default("landscape","pt"),n=[];n=[[e.current.data[0].Type,e.current.data[0].OrderNum,e.current.data[0].Location,e.current.data[0].Qty,e.current.data[0].Date]];for(var r=[],c=1;c<e.current.data.length;c++)r=[e.current.data[c].Type,e.current.data[c].OrderNum,e.current.data[c].Location,e.current.data[c].Qty,e.current.data[c].Date],n.push(r);var o,i=" WMS Stock History - "+t+" - "+S()(new Date).format("Do MMMM YYYY");o=["Type","Order","Location","Quantity","Date"],a.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[o],body:n,didDrawPage:function(e){a.setFontSize(18),a.setTextColor(40),v&&a.addImage(v,"ico",20,20,46.5,48,v,"FAST",0),a.text(i,e.settings.margin.left+50,50),a.setFontSize(8)},margin:{top:80}});var s="hqWMS_Movements_"+t+".pdf";a.save(s)}(G,E)},disabled:Z,children:Object(l.jsx)(C.a,{})})},"PDFEXPORT_hist")]}),Object(l.jsx)("div",{className:"stkHistory-grid",children:Object(l.jsx)(h.a,{idProperty:"ID",columns:[{name:"Type",header:"Movement Type",type:"string",defaultFlex:1},{name:"OrderNum",header:"Order",type:"string",defaultFlex:1},{name:"Location",header:"Location",type:"string",defaultFlex:1},{name:"Qty",header:"Quantity",type:"number",defaultFlex:1,textAlign:"end"},{name:"Date",header:"Date",type:"string",defaultFlex:1}],dataSource:b,style:M,handle:V})})]})]})]})})};var N=a(62),D=a.n(N),L=a(95),M=(a(442),a.p+"static/media/HQicon.9e6c548a.ico");a(443);function I(e){return _.apply(this,arguments)}function _(){return(_=Object(L.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.setToken,a=Object(n.useState)(""),r=Object(j.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),s=Object(j.a)(i,2),d=s[0],b=s[1],h=function(){var e=Object(L.a)(D.a.mark((function e(a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,I({username:c,password:d});case 3:"q>)*8n[TfhTyZAW"!==(n=e.sent).token?alert("Invalid Username/Password"):t(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=window.location.hostname;console.log(window.location.hostname);var f=null;return"localhost"===x|"nhl.hqvps.ie"===x&&(f=M),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"login-logo",children:Object(l.jsx)("img",{src:f,alt:"logo"})}),Object(l.jsxs)("div",{className:"login-wrapper",children:[Object(l.jsx)("h2",{children:"WMS Portal - Log In"}),Object(l.jsxs)(p.a,{children:[Object(l.jsxs)(p.a.Group,{className:"mb-3",controlId:"emailInput",children:[Object(l.jsx)(p.a.Label,{children:"User:"}),Object(l.jsx)(p.a.Control,{type:"email",placeholder:"Enter username",onChange:function(e){return o(e.target.value)}})]}),Object(l.jsxs)(p.a.Group,{className:"mb-3",controlId:"passwordInput",children:[Object(l.jsx)(p.a.Label,{children:"Password:"}),Object(l.jsx)(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return b(e.target.value)}})]}),Object(l.jsx)(m.a,{variant:"secondary",type:"submit",onClick:h,className:"button-to-the-right",children:"Submit"})]})]}),Object(l.jsx)(u,{})]})}var A=function(){var e=function(){var e=Object(n.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(j.a)(e,2),a=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:a}}(),t=e.token,a=e.setToken;return t&&"q>)*8n[TfhTyZAW"!==t&&(alert("Invalid Log-in Token"),localStorage.removeItem("token")),t?Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(s.c,{children:Object(l.jsx)(s.a,{path:"/",exact:!0,component:function(){return Object(l.jsx)(F,{})}})}),Object(l.jsx)(u,{})]})}):Object(l.jsx)(E,{setToken:a})},Q=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,823)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(A,{})}),document.getElementById("root")),Q()},96:function(e,t,a){}},[[444,1,2]]]);
//# sourceMappingURL=main.73354a7c.chunk.js.map