{"version":3,"sources":["components/Navigation.jsx","components/Footer.jsx","components/Stock/Stock.jsx","components/Stock/LoadDataSource.js","components/Login/HQicon.ico","components/Login/Login.js","App.js","useToken.js","reportWebVitals.js","index.js"],"names":["withRouter","props","tokenString","sessionStorage","getItem","Username","JSON","parse","username","className","class","to","location","pathname","onClick","removeItem","window","reload","Footer","style","paddingTop","Stock","useState","dataSource","setDataSource","locationData","setLocationData","searchString","setSearchString","useEffect","taskAmount","data","SearchString","string","fetch","then","response","json","length","count","newDataSource","LoadDataSource","gridStyle","height","margin","onSelectionChange","useCallback","selected","LoadLocations","Form","Control","size","type","placeholder","value","onChange","e","target","idProperty","columns","name","header","defaultFlex","theme","enableSelection","loginUser","credentials","a","method","headers","body","stringify","Login","setToken","setUserName","password","setPassword","handleSubmit","preventDefault","token","alert","src","HQicon","alt","Group","controlId","Label","Button","variant","App","userToken","getToken","setItem","useToken","localStorage","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31e7fb87.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nimport './components.css'\r\n\r\nfunction Navigation(props) {\r\n  const tokenString = sessionStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  const Username = userToken.username;\r\n\r\n  const logout = () => {\r\n    sessionStorage.removeItem('token');\r\n    window.location.reload(false);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"navigation\">\r\n      <nav class=\"navbar navbar-expand navbar-dark grid-bg-colour\">\r\n        <div class=\"container\">\r\n          <Link class=\"navbar-brand\" to=\"/\">\r\n            {Username}'s WMS Portal\r\n          </Link>\r\n          \r\n          \r\n          <div>\r\n            <ul class=\"navbar-nav ml-auto\">\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/\">\r\n                  Stock\r\n                  <span class=\"sr-only\">(current)</span>\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <div className=\"spacer\"></div>\r\n              </li>\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Login\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/\" onClick={logout}>\r\n                    Sign Out\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            \r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Navigation);","import React from \"react\";\r\nimport './components.css'\r\n\r\nfunction Footer() {\r\n  return (\r\n    \r\n      <footer class=\"grid-bg-colour fixed-bottom\" style={{paddingTop: 10}}>\r\n        <div class=\"container\">\r\n          <p class=\"m-0 text-center text-white\">\r\n            Copyright &copy; HQ Software 2021, v0.02\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    \r\n  );\r\n}\r\n\r\nexport default Footer; ","import React, {  useState, useEffect, useCallback } from 'react';\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\n// Function to export grid to excel\r\nimport {LoadDataSource} from './LoadDataSource'\r\n\r\nimport './stock.css'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\n\r\n\r\nconst LoadLocations = (selected) => {\r\n  return fetch('/returnLocations/' + selected)\r\n    .then(data => data.json())\r\n} \r\n\r\n//Overall Tasks function that handles the 'Tasks' page\r\nfunction Stock() {\r\n  \r\n  //----- GET CURRENT USER -----//\r\n  //const tokenString = sessionStorage.getItem('token');\r\n  //const userToken = JSON.parse(tokenString);\r\n  //const Username = userToken.username;\r\n  //const UserID = userToken.userId;\r\n\r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [locationData, setLocationData] = useState([]);\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  useEffect(() =>{\r\n    setDataSource(LoadDataSource(searchString).data);\r\n  }, [searchString])\r\n\r\n  const gridStyle = {\r\n    height: '83vh', \r\n    margin: 10\r\n  }\r\n\r\n  const columns = [\r\n    {name:'Product', header:'Product', type: 'string', defaultFlex: 0},\r\n    {name:'Description', header:'Description', type: 'string', defaultFlex: 1},\r\n    {name:'Quantity', header:'Total', type: 'number', defaultFlex: 0}\r\n  ]\r\n\r\n  const theme = 'default-dark';\r\n\r\n  //const [selected, setSelected] = useState(null);\r\n\r\n  const onSelectionChange = useCallback(({ selected }) => {\r\n    //setSelected(selected);\r\n    setLocationData(LoadLocations(selected));\r\n  }, [])\r\n\r\n  const locationColumns = [\r\n    {name:'Location', header:'Location', type: 'string', defaultFlex: 1},\r\n    {name:'BatchID', header:'Batch', type: 'string', defaultFlex: 1},\r\n    {name:'Expiry', header:'Expiry', type: 'string', defaultFlex: 1},\r\n    {name:'Qty', header:'Quantity', type: 'number', defaultFlex: 1}\r\n  ]\r\n\r\n  \r\n  return(\r\n    <>\r\n      <div className=\"stock-container\">\r\n        <div className=\"filter\">\r\n          \r\n            <Form.Control \r\n              className=\"text-input\" \r\n              size=\"sm\" \r\n              type=\"text\" \r\n              placeholder=\"Search...\" \r\n              value={searchString}\r\n              onChange={e=> setSearchString(e.target.value)}\r\n            />\r\n          \r\n        </div>\r\n        <div className=\"grid-container\">\r\n          <div className=\"stock-grid\">\r\n            <ReactDataGrid\r\n            idProperty=\"Product\"\r\n            columns={columns}\r\n            dataSource={dataSource}\r\n            style={gridStyle}\r\n            theme={theme}\r\n            enableSelection={true}\r\n            onSelectionChange={onSelectionChange}\r\n            \t/>\r\n          </div>\r\n          <div className=\"location-grid\">\r\n            <ReactDataGrid\r\n              idProperty=\"Location\"\r\n              columns={locationColumns}\r\n              dataSource={locationData}\r\n              style={gridStyle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    </>       \r\n    \r\n  )\r\n}\r\n\r\n\r\n\r\nexport default Stock;  ","export function LoadDataSource (searchString) {\r\n\r\n    //-----LOAD TASKS FOR THE GRID -----//\r\n    //const [dataSource, setDataSource] = useState([]);\r\n    //const [taskAmount, setTaskAmount] = useState(0);\r\n\r\n    let dataSource = []\r\n    let taskAmount = 0;\r\n\r\n    const SearchString = searchString;\r\n    \r\n    \r\n      const newDataSource = (SearchString) =>{\r\n        \r\n        let string = SearchString\r\n        if(string==='') {\r\n          string = 'EMPTY_SEARCH_STRING'\r\n        }\r\n        return fetch('/returnStock/'+ string).then(response => {\r\n\r\n          return response.json().then(data => {\r\n            taskAmount = data.length;\r\n            return { data, count: data.length };\r\n          })\r\n        });\r\n      }\r\n      dataSource = newDataSource(SearchString);\r\n    \r\n    //----------//\r\n\r\n    let returnValues = {\r\n      data: dataSource,\r\n      count: taskAmount\r\n    }\r\n\r\n    return returnValues;\r\n}","export default __webpack_public_path__ + \"static/media/HQicon.9e6c548a.ico\";","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Login.css';\r\n\r\nimport Footer from './../Footer.jsx'\r\n\r\nimport HQicon from './HQicon.ico'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nasync function loginUser(credentials) {\r\n  return fetch('/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [username, setUserName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleSubmit = async e => {\r\n    \r\n    e.preventDefault();\r\n    const token = await loginUser({\r\n        username,\r\n        password\r\n    });\r\n    \r\n    \r\n    if(token.token!=='q>)*8n[TfhTyZAW'){\r\n        alert('Invalid Username/Password');\r\n        setUserName('');\r\n        setPassword('');\r\n    } else{\r\n        setToken(token);\r\n    }\r\n     \r\n    \r\n  }\r\n  \r\n  return(\r\n    <>\r\n    \r\n    \r\n    <div className=\"login-logo\"><img src={HQicon} alt=\"logo\" /></div>\r\n    <div className=\"login-wrapper\">\r\n      <h2>HQ Business - Log In</h2>\r\n      <Form>\r\n        <Form.Group className=\"mb-3\" controlId=\"emailInput\">\r\n          <Form.Label>User:</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"Enter username\" onChange={e => setUserName(e.target.value)}/>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"passwordInput\">\r\n          <Form.Label>Password:</Form.Label>\r\n          <Form.Control type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\r\n        </Form.Group>\r\n        <Button variant=\"secondary\" type=\"submit\" onClick={handleSubmit} className=\"button-to-the-right\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n\r\n    <Footer />\r\n    </>\r\n  )\r\n\r\n  \r\n}\r\n\r\nLogin.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n}","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Navigation, Stock, Footer } from \"./components\";\r\nimport useToken from './useToken.js';\r\nimport Login from './components/Login/Login'\r\n\r\n\r\n\r\nfunction App() {\r\n  \r\n  const { token, setToken } = useToken();\r\n  \r\n  if(token && token!=='q>)*8n[TfhTyZAW') {\r\n    alert(\"Invalid Log-in Token\");\r\n    localStorage.removeItem('token');\r\n  }\r\n  \r\n  \r\n  if(!token) {\r\n    return <Login setToken={setToken} />\r\n  }\r\n  \r\n  \r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navigation />\r\n        <Switch>\r\n          \r\n          <Route path=\"/\" exact component={() => <Stock />} />\r\n          \r\n        </Switch>\r\n        <Footer />\r\n        \r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n    };\r\n    \r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n        sessionStorage.setItem('token', JSON.stringify(userToken));\r\n        setToken(userToken.token);\r\n    };\r\n\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}