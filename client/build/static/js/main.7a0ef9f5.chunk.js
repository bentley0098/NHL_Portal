(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t){},167:function(e,t,n){},431:function(e,t,n){},437:function(e,t){},438:function(e,t){},442:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(27),o=n.n(c),i=(n(167),n(49)),s=n(22),l=(n(96),n(5));var d=Object(s.f)((function(e){var t=sessionStorage.getItem("token"),n=JSON.parse(t).username;return Object(l.jsx)("div",{className:"navigation",children:Object(l.jsx)("nav",{class:"navbar navbar-expand navbar-dark grid-bg-colour",children:Object(l.jsxs)("div",{class:"container",children:[Object(l.jsxs)(i.b,{class:"navbar-brand",to:"/",children:[n," - WMS Portal"]}),Object(l.jsx)("div",{children:Object(l.jsxs)("ul",{class:"navbar-nav ml-auto",children:[Object(l.jsx)("li",{class:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(l.jsxs)(i.b,{class:"nav-link",to:"/",children:["Stock",Object(l.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"spacer"})}),Object(l.jsx)("li",{class:"nav-item  ".concat("/Login"===e.location.pathname?"active":""),children:Object(l.jsx)(i.b,{class:"nav-link",to:"/",onClick:function(){sessionStorage.removeItem("token"),window.location.reload(!1)},children:"Sign Out"})})]})})]})})})}));var u=function(){return Object(l.jsx)("footer",{className:"grid-bg-colour fixed-bottom",style:{paddingTop:10},children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("p",{className:"m-0 text-center text-white",children:"Copyright \xa9 HQ Software 2021, v0.06"})})})},j=n(31),b=n(73),h=n.n(b);n(428),n(429),n(430);n(431);var p=n(33),x=n(44),m=n(61),O=n(59),f=n(72),v=(n(432),n.p+"static/media/PDFLogo.d3482e1c.png"),g=n(58),y=n(92),S=n.n(y),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WMS_Products.xlsx",n=document.createElement("a"),a=URL.createObjectURL(e);n.setAttribute("href",a),n.setAttribute("download",t),n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};var T=function(e,t){var n=document.createElement("a"),a=URL.createObjectURL(e);n.setAttribute("href",a),n.setAttribute("download","WMS_Locations_"+t+".xlsx"),n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};var w=n(93),P=n(94);var F=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(j.a)(c,2),i=o[0],s=o[1],d=Object(a.useState)([]),u=Object(j.a)(d,2),b=u[0],y=u[1],F=Object(a.useState)(""),C=Object(j.a)(F,2),N=C[0],D=C[1];Object(a.useEffect)((function(){r(function(e){var t=0;return{data:function(e){var n=e;return""===n&&(n="EMPTY_SEARCH_STRING"),fetch("/returnStock/"+n).then((function(e){return e.json().then((function(e){return t=e.length,{data:e,count:e.length}}))}))}(e),count:t}}(N).data)}),[N]);var L={height:"41vh",margin:10},E=Object(a.useState)(null),I=Object(j.a)(E,2),M=I[0],_=I[1],A=Object(a.useCallback)((function(e){var t=e.selected;_(t),s(function(e){return fetch("/returnLocations/"+e).then((function(e){return e.json()}))}(t)),y(function(e){return fetch("/returnStkMovements/"+e).then((function(e){return e.json()}))}(t))}),[]),Q=Object(a.useState)(null),R=Object(j.a)(Q,2),W=R[0],B=R[1],Y=Object(a.useState)(null),U=Object(j.a)(Y,2),z=U[0],J=U[1],H=!0;return H=null===M,Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"stock-container",children:[Object(l.jsxs)("div",{className:"filter",children:[Object(l.jsx)(p.a.Label,{className:"search-label",children:"Search: \xa0"}),Object(l.jsx)("div",{className:"text-input",children:Object(l.jsx)(p.a.Control,{size:"sm",type:"text",placeholder:"Search...",value:N,onChange:function(e){D(e.target.value),s([]),y([])}})}),Object(l.jsxs)("div",{className:"stock_exports",children:[Object(l.jsx)(m.a,{placement:"bottom",overlay:Object(l.jsx)(O.a,{id:"tooltip-excel",children:"Export to Excel"}),children:Object(l.jsx)(x.a,{variant:"secondary",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e){var t={Sheets:{data:g.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},n=g.write(t,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k(a)}(W)},children:Object(l.jsx)(w.a,{})})},"CSVEXPORT"),Object(l.jsx)(m.a,{placement:"bottom",overlay:Object(l.jsx)(O.a,{id:"tooltip-pdf",children:"Export to PDF"}),children:Object(l.jsx)(x.a,{variant:"secondary",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var n=new f.default("landscape","pt"),a=[];a=[[e.current.data[0].Product,e.current.data[0].Description,e.current.data[0].Quantity]];for(var r=[],c=1;c<e.current.data.length;c++)r=[e.current.data[c].Product,e.current.data[c].Description,e.current.data[c].Quantity],a.push(r);var o,i=" WMS Products    -    "+S()(new Date).format("Do MMMM YYYY");o=["Product","Description","Quantity"],n.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[o],body:a,didDrawPage:function(e){n.setFontSize(18),n.setTextColor(40),v&&n.addImage(v,"ico",20,20,46.5,48,v,"FAST",0),n.text(i,e.settings.margin.left+50,50),n.setFontSize(8)},margin:{top:80}}),n.save("WMS_Products.pdf")}(W)},children:Object(l.jsx)(P.a,{})})},"PDFEXPORT")]}),Object(l.jsxs)("div",{className:"locations_exports",children:[Object(l.jsx)(m.a,{placement:"bottom",overlay:Object(l.jsx)(O.a,{id:"tooltip-excel",children:"Export to Excel"}),children:Object(l.jsx)(x.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var n={Sheets:{data:g.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},a=g.write(n,{bookType:"xlsx",type:"array"}),r=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});T(r,t)}(z,M)},disabled:H,children:Object(l.jsx)(w.a,{})})},"CSVEXPORT"),Object(l.jsx)(m.a,{placement:"bottom",overlay:Object(l.jsx)(O.a,{id:"tooltip-pdf",children:"Export to PDF"}),children:Object(l.jsx)(x.a,{variant:"light",style:{margin:"5px",marginTop:"0px",border:"1px solid black"},onClick:function(){!function(e,t){var n=new f.default("landscape","pt"),a=[];a=[[e.current.data[0].Location,e.current.data[0].BatchID,e.current.data[0].Expiry,e.current.data[0].Qty]];for(var r=[],c=1;c<e.current.data.length;c++)r=[e.current.data[c].Location,e.current.data[c].BatchID,e.current.data[c].Expiry,e.current.data[c].Qty],a.push(r);var o,i=" WMS Locations - "+t+"    -    "+S()(new Date).format("Do MMMM YYYY");o=["Location","BatchID","Expiry","Quantity"],n.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[o],body:a,didDrawPage:function(e){n.setFontSize(18),n.setTextColor(40),v&&n.addImage(v,"ico",20,20,46.5,48,v,"FAST",0),n.text(i,e.settings.margin.left+50,50),n.setFontSize(8)},margin:{top:80}});var s="WMS_Locations_"+t+".pdf";n.save(s)}(z,M)},disabled:H,children:Object(l.jsx)(P.a,{})})},"PDFEXPORT")]})]}),Object(l.jsxs)("div",{className:"grid-container",children:[Object(l.jsx)("div",{className:"stock-grid",children:Object(l.jsx)(h.a,{idProperty:"Product",columns:[{name:"Product",header:"Product",type:"string",defaultFlex:0},{name:"Description",header:"Description",type:"string",defaultFlex:1},{name:"Quantity",header:"Total",type:"number",defaultFlex:0,textAlign:"end"}],dataSource:n,style:{height:"83vh",margin:10},theme:"default-dark",enableSelection:!0,onSelectionChange:A,handle:B})}),Object(l.jsxs)("div",{className:"product-view",children:[Object(l.jsx)("div",{className:"location-grid",children:Object(l.jsx)(h.a,{idProperty:"Location",columns:[{name:"Location",header:"Location",type:"string",defaultFlex:1},{name:"BatchID",header:"Batch",type:"string",defaultFlex:1},{name:"Expiry",header:"Expiry",type:"string",defaultFlex:1},{name:"Qty",header:"Quantity",type:"number",defaultFlex:1,textAlign:"end"}],dataSource:i,style:L,handle:J})}),Object(l.jsx)("div",{className:"stkHistory-grid",children:Object(l.jsx)(h.a,{idProperty:"ID",columns:[{name:"Type",header:"Movement Type",type:"string",defaultFlex:1},{name:"OrderNum",header:"Order",type:"string",defaultFlex:1},{name:"Location",header:"Location",type:"string",defaultFlex:1},{name:"Qty",header:"Quantity",type:"number",defaultFlex:1,textAlign:"end"},{name:"Date",header:"Date",type:"string",defaultFlex:1}],dataSource:b,style:L})})]})]})]})})};var C=n(60),N=n.n(C),D=n(95),L=(n(442),n.p+"static/media/HQicon.9e6c548a.ico");n(443);function E(e){return I.apply(this,arguments)}function I(){return(I=Object(D.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=e.setToken,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(""),s=Object(j.a)(i,2),d=s[0],b=s[1],h=function(){var e=Object(D.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,E({username:c,password:d});case 3:"q>)*8n[TfhTyZAW"!==(a=e.sent).token?alert("Invalid Username/Password"):t(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=window.location.hostname;console.log(window.location.hostname);var O=null;return"localhost"===m|"nhl.hqvps.ie"===m&&(O=L),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"login-logo",children:Object(l.jsx)("img",{src:O,alt:"logo"})}),Object(l.jsxs)("div",{className:"login-wrapper",children:[Object(l.jsx)("h2",{children:"WMS Portal - Log In"}),Object(l.jsxs)(p.a,{children:[Object(l.jsxs)(p.a.Group,{className:"mb-3",controlId:"emailInput",children:[Object(l.jsx)(p.a.Label,{children:"User:"}),Object(l.jsx)(p.a.Control,{type:"email",placeholder:"Enter username",onChange:function(e){return o(e.target.value)}})]}),Object(l.jsxs)(p.a.Group,{className:"mb-3",controlId:"passwordInput",children:[Object(l.jsx)(p.a.Label,{children:"Password:"}),Object(l.jsx)(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return b(e.target.value)}})]}),Object(l.jsx)(x.a,{variant:"secondary",type:"submit",onClick:h,className:"button-to-the-right",children:"Submit"})]})]}),Object(l.jsx)(u,{})]})}var _=function(){var e=function(){var e=Object(a.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(j.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:n}}(),t=e.token,n=e.setToken;return t&&"q>)*8n[TfhTyZAW"!==t&&(alert("Invalid Log-in Token"),localStorage.removeItem("token")),t?Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(s.c,{children:Object(l.jsx)(s.a,{path:"/",exact:!0,component:function(){return Object(l.jsx)(F,{})}})}),Object(l.jsx)(u,{})]})}):Object(l.jsx)(M,{setToken:n})},A=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,823)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),A()},96:function(e,t,n){}},[[444,1,2]]]);
//# sourceMappingURL=main.7a0ef9f5.chunk.js.map