(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{305:function(e,t,n){},366:function(e,t,n){},369:function(e,t){},439:function(e,t,n){},707:function(e,t){},708:function(e,t){},752:function(e,t,n){},753:function(e,t,n){},885:function(e,t,n){},886:function(e,t,n){},887:function(e,t,n){},888:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(51),s=n.n(c),i=(n(439),n(62)),o=n(54),l=n(5),j=n(143),u=n.n(j),d=(n(305),n(69)),b=n.n(d),h=(n(138),n(139),n(125),n(113)),O=(n(366),n(121)),m=n(402),x=n(2),p=function(){return fetch("/returnAlerts").then((function(e){return e.json()}))},f=r.a.memo((function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),f=d[0],y=d[1],C=Object(a.useState)(!1),g=Object(l.a)(C,2),v=g[0],S=g[1],D=Object(a.useState)([]),k=Object(l.a)(D,2),N=k[0],w=k[1],T=Object(a.useState)(0),I=Object(l.a)(T,2),U=I[0],Y=I[1],M=Object(a.useState)(""),R=Object(l.a)(M,2),J=R[0],P=R[1];Object(a.useEffect)((function(){if(0===U)p().then((function(e){Y(U+1),w(e)}));else var e=setTimeout((function(){p().then((function(t){if(Y(U+1),clearTimeout(e),N!==[]){N.length<t.length&&U>3&&(P("New_Customer_in_HQS_ERRORS"),S(!0));for(var n=0;n<N.length;n++)for(var a=0;a<t.length;a++)N[n].CustomerCode===t[a].CustomerCode&&N[n].ErrorCount<t[a].ErrorCount&&(P(t[a].Customer_Name),S(!0),c(r+1))}t,w(t)}))}),3e4)}),[U]);var E=Object(o.f)();var A=Object(a.useCallback)((function(e){E.push("/Errors"),localStorage.setItem("CustomerErrorCheck",JSON.stringify(e.data)),y(!1)}),[]),F=Object(a.useCallback)((function(e){var t=e.onDoubleClick;e.onDoubleClick=function(n){A(e),t&&t(n)}}),[A]),L=Object(a.useCallback)((function(e,t){}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(i.b,{class:"nav-link",onClick:function(){y(!0),c(0)},children:[Object(x.jsx)(u.a,{count:r,effect:j.Effect.SCALE}),Object(x.jsx)(h.b,{})]}),Object(x.jsx)("div",{className:"alerts-toast",children:Object(x.jsxs)(O.a,{onClose:function(){return y(!1)},show:f,style:{width:"330px",height:"330px"},children:[Object(x.jsx)(O.a.Header,{children:Object(x.jsx)("strong",{className:"me-auto",children:"Alerts"})}),Object(x.jsx)(O.a.Body,{children:Object(x.jsx)(b.a,{idProperty:"id",columns:[{name:"Customer_Name",header:"Company",minWidth:200,type:"string"},{name:"ErrorCount",header:"Errors",maxWidth:100,type:"number"}],dataSource:N,style:{minHeight:250,margin:5},theme:"default-dark",onRenderRow:F,onRowClick:L})})]})}),v&&Object(x.jsx)("div",{className:"alert-notification",children:Object(x.jsxs)(m.a,{onClose:function(){return S(!1)},variant:"danger",dismissible:!0,closeLabel:"Dismiss",children:[J," has a new error"]},1)})]})}));var y=Object(o.g)((function(e){var t=sessionStorage.getItem("token"),n=JSON.parse(t).username,r=Object(a.useState)(1),c=Object(l.a)(r,2);return c[0],c[1],setInterval((function(){}),6e4),Object(x.jsx)("div",{className:"navigation",children:Object(x.jsx)("nav",{class:"navbar navbar-expand navbar-dark grid-bg-colour",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsxs)(i.b,{class:"navbar-brand",to:"/",children:[n,"'s HQ BUSINESS"]}),Object(x.jsx)("div",{children:Object(x.jsxs)("ul",{class:"navbar-nav ml-auto",children:[Object(x.jsx)("li",{class:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(x.jsxs)(i.b,{class:"nav-link",to:"/",children:["Tasks",Object(x.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(x.jsx)("li",{class:"nav-item  ".concat("/Report1"===e.location.pathname?"active":""),children:Object(x.jsx)(i.b,{class:"nav-link",to:"/Report1",children:"Reports"})}),Object(x.jsx)("li",{class:"nav-item  ".concat("/Support"===e.location.pathname?"active":""),children:Object(x.jsx)(i.b,{class:"nav-link",to:"/Support",children:"Support"})}),Object(x.jsx)("li",{class:"nav-item  ".concat("/Products"===e.location.pathname?"active":""),children:Object(x.jsx)(i.b,{class:"nav-link",to:"/Products",children:"Products"})}),Object(x.jsx)("li",{children:Object(x.jsx)(f,{})}),Object(x.jsx)("li",{children:Object(x.jsx)("div",{className:"spacer"})}),Object(x.jsx)("li",{class:"nav-item  ".concat("/Login"===e.location.pathname?"active":""),children:Object(x.jsx)(i.b,{class:"nav-link",to:"/",onClick:function(){sessionStorage.removeItem("token"),window.location.reload(!1)},children:"Sign Out"})})]})})]})})})}));var C=function(){return Object(x.jsx)("div",{className:"footer",children:Object(x.jsx)("footer",{class:"py-3 grid-bg-colour fixed-bottom",children:Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("p",{class:"m-0 text-center text-white",children:"Copyright \xa9 HQ Software 2021, v1.66"})})})})};var g=n(122),v=n(46),S=n(29),D=(n(140),n(30)),k=n(6),N=n(426),w=n(252),T=n(41),I=n(14),U=n(45),Y=n(44),M=n(70),R=n.n(M),J=(n(205),n(31)),P=n.n(J),E=n(37),A=n.n(E),F=n(65);function L(e){return fetch("/taskHistory/"+e).then((function(e){return e.json()}))}function H(e,t,n,a){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Notes:e,Task:t,userid:n,minutes:a})};return fetch("/addHistory/",r)}function _(e,t,n,a,r){t||(t=e.Company_Name,n=e.Account),a||(a=e.Department),r||(r=e.ActionByUserID);var c={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Task:e.Issue_No,Details:e.Details,Notes:e.Notes,Area:e.Reference2,Application:e.Reference,Contact:e.Reference3,Estimate:e.Reference4,Priority:e.Priority,Invoice:e.Invoice,DueDate:e.DueDate,Requested:e.Requested,Company_Name:t,Account:n,Department:a,User:r})};return fetch("/updateTask/",c)}function W(e,t,n,a,r,c,s,i,o,l,j,u,d,b,h,O,m){var x={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Details:a,Task:e,CustomerName:t,CustomerCode:n,Priority:r,DueDate:c,ReqDate:s,Department:i,User:o,Reference1:j,Contact:u,Reference2:d,Notes:b,Estimate:h,Invoice:O,UserID:l,Urgent:m})};return fetch("/addNewTask/",x)}function B(){return G.apply(this,arguments)}function G(){return(G=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/newTaskId");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return q.apply(this,arguments)}function q(){return(q=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnCustomers");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return K.apply(this,arguments)}function K(){return(K=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnDepartments");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return X.apply(this,arguments)}function X(){return(X=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnUsers");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(F.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnSelectedTask/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnReasons");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskID:e,userid:t})};return fetch("/openHistory",n)}function te(e,t){var n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskID:e,input:t})};return fetch("/makeUrgent",n)}function ne(e,t){var n=JSON.stringify(e),a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemID:n,input:t})};return fetch("/closeItem",a)}var ae=n(219),re=(n(702),n.p+"static/media/PDFLogo.d3482e1c.png"),ce=n(296),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HQB_TASKS.xlsx",n=document.createElement("a"),a=URL.createObjectURL(e);n.setAttribute("href",a),n.setAttribute("download",t),n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)};var ie=n(236),oe=n(152),le=n(116),je={SupportCode:0,Customer_Code:340,CustomerName:"HQ Software",CustomerCode:340};var ue=r.a.memo((function(e){var t={UserId:e.filterUser.UserId,Username:e.filterUser.Username},n=e.filterDepartment,r=e.filterCustomer,c=sessionStorage.getItem("token"),s=JSON.parse(c),i=s.username,o=s.userId,j=Object(a.useState)([]),u=Object(l.a)(j,2),d=u[0],b=u[1],h=Object(a.useState)([]),O=Object(l.a)(h,2),m=O[0],p=O[1],f=Object(a.useState)([]),y=Object(l.a)(f,2),C=y[0],v=y[1];Object(a.useEffect)((function(){var e=!0;return z().then((function(t){e&&p(t)})),Q().then((function(t){e&&b(t)})),V().then((function(t){e&&v(t)})),function(){return e=!1}}),[]);var N=Object(a.useState)(!1),w=Object(l.a)(N,2),M=w[0],J=w[1],E=Object(a.useState)(!1),A=Object(l.a)(E,2),F=A[0],L=A[1],H=new Date;H.setDate(H.getDate()+14);var _=Object(a.useState)(H),G=Object(l.a)(_,2),q=G[0],K=G[1],X=Object(a.useState)(new Date),Z=Object(l.a)(X,2),$=Z[0],te=Z[1],ne=Object(a.useState)(""),ae=Object(l.a)(ne,2),re=ae[0],ce=ae[1],se=Object(a.useState)(),ue=Object(l.a)(se,2),de=ue[0],be=ue[1],he=Object(a.useState)({}),Oe=Object(l.a)(he,2),me=Oe[0],xe=Oe[1],pe=Object(a.useState)({}),fe=Object(l.a)(pe,2),ye=fe[0],Ce=fe[1],ge=Object(a.useState)([]),ve=Object(l.a)(ge,2),Se=ve[0],De=ve[1],ke=Object(a.useState)(""),Ne=Object(l.a)(ke,2),we=Ne[0],Te=Ne[1],Ie=Object(a.useState)(""),Ue=Object(l.a)(Ie,2),Ye=Ue[0],Me=Ue[1],Re=Object(a.useState)(""),Je=Object(l.a)(Re,2),Pe=Je[0],Ee=Je[1],Ae=Object(a.useState)(""),Fe=Object(l.a)(Ae,2),Le=Fe[0],He=Fe[1],_e=Object(a.useState)(""),We=Object(l.a)(_e,2),Be=We[0],Ge=We[1],ze=Object(a.useState)(""),qe=Object(l.a)(ze,2),Qe=qe[0],Ke=qe[1],Ve=Object(a.useState)(2),Xe=Object(l.a)(Ve,2),Ze=Xe[0],$e=Xe[1],et=Object(a.useState)(null),tt=Object(l.a)(et,2),nt=tt[0],at=tt[1],rt=Object(a.useState)(""),ct=Object(l.a)(rt,2),st=ct[0],it=ct[1],ot=function(){J(!1),setTimeout((function(){var e=new Date;e.setDate(e.getDate()+14),ce(""),$e(2),K(e),te(new Date),Te(""),Me(""),Ee(""),He(""),Ke(""),Ge(""),Ce({}),xe({}),at(null),ht([{item:""}])}),200)},lt=function(){var t=P()(q).format("YYYY-MM-DD hh:mm:ss"),a=P()($).format("YYYY-MM-DD hh:mm:ss"),c={},s={};s=void 0===me.CustomerCode?r:me,c=void 0===ye.Code?n:ye,B().then((function(n){be(n[0][""]),0===s.CustomerCode?alert("Please Select a Customer"):0===c.Code?alert("Please Select a Department"):0===Se.UserId?alert("Please Select a User"):(W(n[0][""],s.CustomerName,s.CustomerCode,re,Ze,t,a,c.Code,i,Se.UserId,we,Ye,Pe,Le,Qe,Be,nt),ee(n[0][""],o),jt(n[0][""]),bt!==[{item:""}]&&bt.forEach((function(e){!function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Details:t,taskID:e})};fetch("/addItem/",n)}(n[0][""],e.item)})),ot()),setTimeout((function(){e.onClick()}),500)}))},jt=function(e){var t=P()(q).format("DD/MM/YYYY");it("mailto:?subject=Task:%20"+e+"&body=Issue:%20"+de+"%0D%0ADetails:%20"+re+"%0D%0APriority:%20"+Ze+"%0D%0ABy:%20"+Se.Username+"%0D%0ADue:%20"+t),function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise((function(e,n){document.execCommand("copy")?e():n(),t.remove()}))}("Task: "+e+"\r\nDetails: "+re+"\r\nPriority: "+Ze+"\r\nBy: "+Se.Username+"\r\nDue: "+t).catch((function(){return console.log("error")})),L(!0)};var ut=Object(a.useState)([{item:""}]),dt=Object(l.a)(ut,2),bt=dt[0],ht=dt[1],Ot=function(){ht([].concat(Object(g.a)(bt),[{item:""}]))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-newtask",children:"New Task"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){J(!0),De(t),setTimeout((function(){document.getElementById("inline-newTask-radio-".concat(Ze)).click()}),10),Me(i)},className:"button-to-the-left",children:Object(x.jsx)(oe.a,{})})},"NewTask"),Object(x.jsxs)(D.a,{show:M,onHide:ot,size:"lg",children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsx)(D.a.Title,{children:"Create New Task"})}),Object(x.jsxs)(D.a.Body,{children:[Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"newTask.CustomerSelect",children:[Object(x.jsx)("h7",{children:"Customer:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:m.CustomerName,onChange:function(e){return xe(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(r),children:r.CustomerName}),Object(x.jsx)("option",{value:JSON.stringify(je),children:je.CustomerName}),m.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.CustomerName},t)}))]})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"newTask.DepartmentSelect",children:[Object(x.jsx)("h7",{children:"Department:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:d.Department,onChange:function(e){return Ce(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(n),children:n.Department}),d.map((function(e,t){if(e.Department!==n.Department)return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Department},t)}))]})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"newTask.UserSelect",children:[Object(x.jsx)("h7",{children:"For:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:C.Username,onChange:function(e){return De(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(t),children:t.Username}),C.map((function(e,n){return e.Username!==t.Username?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Username},n):void 0}))]})]})})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Details",children:[Object(x.jsx)("h7",{children:"Details:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add Details...",value:re,onChange:function(e){return ce(e.target.value)},type:"text",size:"sm"})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Notes",children:[Object(x.jsx)("h7",{children:"Notes:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add Notes...",value:Le,onChange:function(e){return He(e.target.value)},type:"text",size:"sm"})]})})]}),Object(x.jsxs)(k.a.Group,{as:T.a,className:"mb-3",controlId:"newTask.Dates",style:{marginTop:5},children:[Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)(k.a.Label,{children:"Due:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(R.a,{selected:q,onChange:function(e){return K(e)},dateFormat:"dd/MM/yyyy",calendarStartDay:1})}),Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)(k.a.Label,{children:"Requested:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(R.a,{selected:$,onChange:function(e){return te(e)},dateFormat:"dd/MM/yyyy",calendarStartDay:1})})]}),Object(x.jsxs)(k.a.Group,{as:T.a,className:"mb-3",controlId:"newTask.Reference1-2",style:{marginTop:5},children:[Object(x.jsx)(I.a,{xs:1,children:Object(x.jsx)(k.a.Label,{children:"P:"})}),Object(x.jsxs)(I.a,{xs:3,children:[Object(x.jsx)(k.a.Check,{size:"sm",inline:!0,label:"1",type:"radio",name:"group1",id:"inline-newTask-radio-1",onChange:function(e){return $e(1)}}),Object(x.jsx)(k.a.Check,{size:"sm",inline:!0,label:"2",type:"radio",name:"group1",id:"inline-newTask-radio-2",onChange:function(e){return $e(2)}}),Object(x.jsx)(k.a.Check,{size:"sm",inline:!0,label:"3",type:"radio",name:"group1",id:"inline-newTask-radio-3",onChange:function(e){return $e(3)}})]}),Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)("h7",{children:"Reference 1:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{style:{display:"inline"},size:"sm",as:"textarea",rows:1,type:"text",value:we,onChange:function(e){return Te(e.target.value)}})}),Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)(k.a.Label,{children:"Reference 2:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:Pe,onChange:function(e){return Ee(e.target.value)},size:"sm"})})]}),Object(x.jsxs)(k.a.Group,{as:T.a,className:"mb-3",controlId:"newTask.Contact",style:{marginTop:5},children:[Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)(k.a.Label,{children:"Requester:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:Ye,onChange:function(e){return Me(e.target.value)},size:"sm"})}),Object(x.jsx)(I.a,{xs:1,children:Object(x.jsx)(k.a.Label,{children:"Estimate:"})}),Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:Qe,onChange:function(e){return Ke(e.target.value)},size:"sm"})}),Object(x.jsx)(I.a,{xs:1,children:Object(x.jsx)(k.a.Label,{children:"Invoice:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:Be,onChange:function(e){return Ge(e.target.value)},size:"sm"})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(k.a.Label,{children:"Items:"}),bt.map((function(e,t){return Object(x.jsx)("div",{className:"box",children:Object(x.jsxs)(k.a.Group,{as:T.a,controlId:"newItems",style:{marginTop:5},children:[Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{size:"sm",as:"textarea",rows:1,type:"text",name:"item",value:e.item,onChange:function(e){return function(e,t){var n=e.target,a=n.name,r=n.value,c=Object(g.a)(bt);c[t][a]=r,ht(c)}(e,t)}})}),Object(x.jsx)(I.a,{xs:1,children:1!==bt.length&&Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-removeitem",children:"Remove Item"}),children:Object(x.jsx)(S.a,{size:"sm",className:"mr10",variant:"secondary",onClick:function(){return function(e){var t=Object(g.a)(bt);t.splice(e,1),ht(t)}(t)},children:Object(x.jsx)(le.a,{})})},"RemoveItem")}),Object(x.jsx)(I.a,{xs:1,children:bt.length-1===t&&Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-additem",children:"Add Item"}),children:Object(x.jsx)(S.a,{size:"sm",variant:"secondary",onClick:Ot,children:Object(x.jsx)(le.b,{})})},"AddItem")})]})})}))]})]}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(k.a.Check,{type:"checkbox",label:"Make Urgent",style:{margin:5,right:450},onChange:function(e){at(null===nt?1:null)}}),Object(x.jsx)(S.a,{variant:"secondary",onClick:ot,children:"Close"}),Object(x.jsx)(S.a,{variant:"primary",onClick:function(){lt()},children:"Create Task"})]})]}),Object(x.jsxs)(D.a,{size:"sm",show:F,onHide:function(){return L(!1)},"aria-labelledby":"success-alert",children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsxs)(D.a.Title,{id:"success-alert-title",children:["Task ",de," Created"]})}),Object(x.jsxs)(D.a.Body,{children:["Details copied to clipboard",Object(x.jsx)("br",{}),Object(x.jsx)(S.a,{variant:"success",onClick:function(){window.open(st)},className:"button-to-the-right",children:Object(x.jsx)(ie.a,{})})]})]})]})})),de=n(404),be=r.a.memo((function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],j=i[1],u=function(){j(!1)},d=Object(a.useState)(),b=Object(l.a)(d,2),h=b[0],O=b[1],m=Object(a.useState)(),p=Object(l.a)(m,2),f=p[0],y=p[1],C=!0;return C=JSON.stringify(e.selected).length<3,Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-multiedit",children:"Edit Multiple"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){j(!0)},className:"button-to-the-left",disabled:C,children:Object(x.jsx)(de.a,{})})},"MultiEdit"),Object(x.jsxs)(D.a,{show:o,onHide:u,children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsx)(D.a.Title,{children:"Update Selected Tasks"})}),Object(x.jsxs)(D.a.Body,{children:[Object(x.jsx)(k.a.Label,{children:"Priority:"}),Object(x.jsx)("br",{}),Object(x.jsx)(k.a.Check,{inline:!0,label:"1",type:"radio",name:"group1",id:"inline-radio-1",onChange:function(e){return O(1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"2",type:"radio",name:"group1",id:"inline-radio-2",onChange:function(e){return O(2)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"3",type:"radio",name:"group1",id:"inline-radio-3",onChange:function(e){return O(3)}}),Object(x.jsx)("br",{}),Object(x.jsx)(k.a.Label,{children:"Due Date:\xa0\xa0\xa0"}),Object(x.jsx)(R.a,{selected:f,onChange:function(e){y(e)},dateFormat:"dd/MM/yyyy",calendarStartDay:1}),Object(x.jsx)(k.a.Check,{type:"checkbox",label:"Mark/Unmark Urgent",style:{margin:5},onChange:function(e){c(1)}})]}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(S.a,{variant:"secondary",onClick:u,children:"Cancel"}),Object(x.jsx)(S.a,{variant:"primary",onClick:function(){j(!1);var t=[];Object.keys(e.selected).forEach((function(n){t.push(n),1===r&&(!0===e.selected[n].Urgent?te(n,null):te(n,1))}));var n="";f&&(n=P()(f).format("YYYY-MM-DDThh:mm:ss.000")),void 0===h&&""===n||function(e,t,n){var a=JSON.stringify(e),r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tasks:a,priority:t,duedate:n})};fetch("/editMultiple",r)}(t,h,n),O(),y(),c(0),setTimeout((function(){e.onClick()}),500)},children:"Save Changes"})]})]})]})})),he=(n(752),n(405)),Oe=n(168),me=(n(753),r.a.memo((function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(),d=Object(l.a)(u,2),h=d[0],m=d[1],p=Object(a.useState)(),f=Object(l.a)(p,2),y=f[0],C=f[1],g=Object(a.useState)(),v=Object(l.a)(g,2),D=v[0],k=v[1],N=Object(a.useState)(),w=Object(l.a)(N,2),T=w[0],I=w[1],M=Object(a.useState)(),R=Object(l.a)(M,2),J=R[0],P=R[1],E=Object(a.useState)(),A=Object(l.a)(E,2),F=A[0],L=A[1],H=Object(a.useState)(),_=Object(l.a)(H,2),W=_[0],B=_[1],G=Object(a.useState)(),z=Object(l.a)(G,2),q=z[0],Q=z[1],K=Object(a.useState)(),V=Object(l.a)(K,2),X=V[0],Z=V[1],$=Object(a.useState)(),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(),re=Object(l.a)(ae,2),ce=re[0],se=re[1],ie=Object(a.useState)(),oe=Object(l.a)(ie,2),le=oe[0],je=oe[1],ue=Object(a.useState)(),de=Object(l.a)(ue,2),be=de[0],me=de[1],xe=Object(a.useState)(),pe=Object(l.a)(xe,2),fe=pe[0],ye=pe[1],Ce=[{id:1,User:"Richard",p1:0,p2:0,p3:0},{id:2,User:"Wesley",p1:0,p2:0,p3:0},{id:5,User:"Stephen",p1:0,p2:0,p3:0},{id:6,User:"Gavin",p1:0,p2:0,p3:0},{id:7,User:"Neil",p1:0,p2:0,p3:0}],ge=function(){var e=[1,2,3];Ce.forEach((function(t){e.forEach((function(e){var n,a;(n=t.id,a=e,fetch("/getSummary/"+n+"&"+a).then((function(e){return e.json()}))).then((function(n){1===t.id&&1===e&&j(n[0][""]),1===t.id&&2===e&&m(n[0][""]),1===t.id&&3===e&&C(n[0][""]),2===t.id&&1===e&&k(n[0][""]),2===t.id&&2===e&&I(n[0][""]),2===t.id&&3===e&&P(n[0][""]),5===t.id&&1===e&&L(n[0][""]),5===t.id&&2===e&&B(n[0][""]),5===t.id&&3===e&&Q(n[0][""]),6===t.id&&1===e&&Z(n[0][""]),6===t.id&&2===e&&ne(n[0][""]),6===t.id&&3===e&&se(n[0][""]),7===t.id&&1===e&&je(n[0][""]),7===t.id&&2===e&&me(n[0][""]),7===t.id&&3===e&&ye(n[0][""])}))}))}))};Object(a.useEffect)((function(){ge()}),[]);var ve=[{id:1,User:"Richard",p1:o,p2:h,p3:y,All:[o+h+y]},{id:2,User:"Wesley",p1:D,p2:T,p3:J,All:[D+T+J]},{id:5,User:"Stephen",p1:F,p2:W,p3:q,All:[F+W+q]},{id:6,User:"Gavin",p1:X,p2:te,p3:ce,All:[X+te+ce]},{id:7,User:"Neil",p1:le,p2:be,p3:fe,All:[le+be+fe]}],Se=[o+h+y,D+T+J,F+W+q,X+te+ce,le+be+fe];return Se.sort((function(e,t){return t-e})),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-summary",children:"Show Summary Table"}),children:Object(x.jsx)(S.a,{style:{margin:5},onClick:function(){c(!1===r),ge()},className:"button-to-the-right",variant:"secondary",children:Object(x.jsx)(he.a,{})})},"Summary"),Object(x.jsx)("div",{className:"summary",children:Object(x.jsxs)(O.a,{onClose:function(){return c(!1)},show:r,style:{width:"500px",height:"320px"},children:[Object(x.jsx)(O.a.Header,{children:Object(x.jsx)("strong",{className:"me-auto",children:"Summary"})}),Object(x.jsxs)(O.a.Body,{children:[Object(x.jsx)("div",{className:"summary-grid",children:Object(x.jsx)(b.a,{idProperty:"id",columns:[{name:"User",header:"User",maxWidth:100,type:"string"},{name:"p1",header:"1",maxWidth:60,type:"number"},{name:"p2",header:"2",maxWidth:60,type:"number"},{name:"p3",header:"3",maxWidth:60,type:"number"},{name:"All",header:"All",maxWidth:72,type:"number"}],dataSource:ve,style:{minHeight:250,margin:5},theme:"default-dark",defaultSortInfo:{name:"All",dir:-1}})}),Object(x.jsx)("div",{className:"progress-1",children:Object(x.jsx)(Oe.a,{now:Se[0]})}),Object(x.jsx)("div",{className:"progress-2",children:Object(x.jsx)(Oe.a,{now:Se[1]})}),Object(x.jsx)("div",{className:"progress-3",children:Object(x.jsx)(Oe.a,{now:Se[2]})}),Object(x.jsx)("div",{className:"progress-4",children:Object(x.jsx)(Oe.a,{now:Se[3]})}),Object(x.jsx)("div",{className:"progress-5",children:Object(x.jsx)(Oe.a,{now:Se[4]})})]})]})})]})})));function xe(e,t,n,a,r){var c=0;return{data:function(e,t,n,a,r){return fetch("/queryTasks/"+e+"&"+t+"&"+n+"&"+a+"&"+r).then((function(e){return e.json().then((function(e){return c=e.length,{data:e,count:e.length}}))}))}(e,t,n,a,r),count:c}}var pe=n(237),fe=n(407),ye=n(406),Ce=n(186);var ge=function(e){var t=e.data;return"C"===t.State?"global-custom-row-green":!0===t.Urgent?"global-custom-row-red":"global-custom-row"},ve=function(e){if(!0===e.data.Complete)return"global-custom-row-light-green"};var Se=function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e),n=t.userId,r={SupportCode:0,Customer_Code:0,CustomerName:"All Customers",CustomerCode:0},c={Code:0,Department:"All Departments"},s={Username:"None Selected",UserId:0},i={UserId:t.userId,Username:t.username},o=Object(a.useState)([]),j=Object(l.a)(o,2),u=j[0],d=j[1],O=Object(a.useState)([]),m=Object(l.a)(O,2),p=m[0],f=m[1],y=Object(a.useState)(),C=Object(l.a)(y,2),M=C[0],J=C[1],E=Object(a.useState)(i),A=Object(l.a)(E,2),F=A[0],G=A[1],q=Object(a.useState)(1),K=Object(l.a)(q,2),X=K[0],je=K[1],de=Object(a.useState)(r),he=Object(l.a)(de,2),Oe=he[0],Se=he[1],De=Object(a.useState)(c),ke=Object(l.a)(De,2),Ne=ke[0],we=ke[1],Te=Object(a.useState)(!1),Ie=Object(l.a)(Te,2),Ue=Ie[0],Ye=Ie[1],Me=function(){d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data),Yn({})};Object(a.useEffect)((function(){var e=!0;return d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data),z().then((function(t){e&&$e(t)})),Q().then((function(t){e&&Ke(t)})),V().then((function(t){e&&at(t)})),1===X&&document.getElementById("inline-radio-1").click(),2===X&&document.getElementById("inline-radio-2").click(),3===X&&document.getElementById("inline-radio-3").click(),function(){return e=!1}}),[F,X,Ue,Oe.Customer_Code,Ne.Code]);var Re=Object(a.useState)(null),Je=Object(l.a)(Re,2),Pe=Je[0],Ee=Je[1],Ae=Object(a.useState)(""),Fe=Object(l.a)(Ae,2),Le=Fe[0],He=Fe[1],_e=Object(a.useState)(),We=Object(l.a)(_e,2),Be=We[0],Ge=We[1],ze=Object(a.useState)([]),qe=Object(l.a)(ze,2),Qe=qe[0],Ke=qe[1],Ve=Object(a.useState)([]),Xe=Object(l.a)(Ve,2),Ze=Xe[0],$e=Xe[1],et=Object(a.useState)([]),tt=Object(l.a)(et,2),nt=tt[0],at=tt[1],rt=Object(a.useState)(),ct=Object(l.a)(rt,2),st=ct[0],it=ct[1],ot=Object(a.useState)([]),lt=Object(l.a)(ot,2),jt=lt[0],ut=lt[1],dt=Object(a.useState)(new Date),bt=Object(l.a)(dt,2),ht=bt[0],Ot=bt[1],mt=Object(a.useState)(new Date),xt=Object(l.a)(mt,2),pt=xt[0],ft=xt[1],yt=Object(a.useState)({}),Ct=Object(l.a)(yt,2),gt=Ct[0],vt=Ct[1],St=Object(a.useState)([]),Dt=Object(l.a)(St,2),kt=Dt[0],Nt=Dt[1],wt=Object(a.useState)([]),Tt=Object(l.a)(wt,2),It=Tt[0],Ut=Tt[1],Yt=Object(a.useState)([]),Mt=Object(l.a)(Yt,2),Rt=Mt[0],Jt=Mt[1],Pt=Object(a.useState)({}),Et=Object(l.a)(Pt,2),At=Et[0],Ft=Et[1],Lt=Object(a.useState)({}),Ht=Object(l.a)(Lt,2),_t=Ht[0],Wt=Ht[1],Bt=Object(a.useState)("O"),Gt=Object(l.a)(Bt,2),zt=Gt[0],qt=Gt[1],Qt=Object(a.useState)(!1),Kt=Object(l.a)(Qt,2),Vt=Kt[0],Xt=Kt[1],Zt=Object(a.useState)(!1),$t=Object(l.a)(Zt,2),en=$t[0],tn=$t[1],nn=Object(a.useState)(""),an=Object(l.a)(nn,2),rn=an[0],cn=an[1],sn=function(){Xt(!1),Yn({}),Ge(),En()},on=Object(a.useCallback)((function(e){var t,n=e.data.Task;f((t=e.data.Task,fetch("/getItems/"+t).then((function(e){return e.json()})))),function(e){return Z.apply(this,arguments)}(n).then((function(e){vt(e[0]),Ot(new Date(e[0].DueDate)),ft(new Date(e[0].Requested));for(var t=0;t<Qe.length;t++)Qe[t].Code===e[0].Department&&Ft(Qe[t]);for(var n=0;n<nt.length;n++)e[0].ActionBy===nt[n].UserId&&Wt(nt[n]);qt(e[0].State);var a=new Date(e[0].DueDate),r=P()(a).format("DD-MM-YYYY");cn("mailto:?subject=Task:%20"+e[0].Issue_No+"&body=Company:%20"+e[0].Company_Name+"%0D%0AIssue:%20"+e[0].Issue_No+"%0D%0ADetails:%20"+e[0].Details+"%0D%0APriority:%20"+e[0].Priority+"%0D%0ADue:%20"+r)})),Xt(!0),setTimeout((function(){document.getElementById("addHistory").focus()}),20),it(n);L(n).then((function(e){ut(e)}))}),[Qe,gt,nt]),ln=Object(a.useCallback)((function(e){var t=e.onDoubleClick;J(e.dataSourceArray.length),e.onDoubleClick=function(n){on(e),t&&t(n)}}),[on]),jn=function(){(sn(),void 0===Rt.UserId)?_(gt,kt.CustomerName,kt.CustomerCode,It.Code,_t.UserId):(_(gt,kt.CustomerName,kt.CustomerCode,It.Code,Rt.UserId),H("From "+_t.Username+" to "+Rt.Username,st,n));if(""!==Le&&(H(Le,st,n,Be),He("")),Nt([]),Jt([]),setTimeout((function(){d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data)}),500),void 0!==Pn){var e=[];Object.keys(Pn).forEach((function(t){e.push(t),!1===Pn[t].Complete?ne(t,1):ne(t,0)}))}""!==Qn[0].item&&(Qn.forEach((function(e){!function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Details:t,taskID:e})};fetch("/addItem/",n)}(gt.Issue_No,e.item)})),Kn([{item:""}]))},un=Object(a.useState)([]),dn=Object(l.a)(un,2),bn=dn[0],hn=dn[1],On=Object(a.useState)([]),mn=Object(l.a)(On,2),xn=mn[0],pn=mn[1],fn=Object(a.useState)(),yn=Object(l.a)(fn,2),Cn=yn[0],gn=yn[1],vn=Object(a.useState)(0),Sn=Object(l.a)(vn,2),Dn=Sn[0],kn=Sn[1],Nn=function(){tn(!1),gn(0),pn([]),kn(0)},wn=function(){var e;(e=st,fetch("/getTimeSpent/"+e).then((function(e){return e.json()}))).then((function(e){kn(e[0].TimeSpent),tn(!0)})),function(){return $.apply(this,arguments)}().then((function(e){hn(e)}))},Tn=Object(a.useState)({}),In=Object(l.a)(Tn,2),Un=In[0],Yn=In[1],Mn=Object(a.useCallback)((function(e){var t=e.selected;!0!==t&&Yn(t)}),[]),Rn=Object(a.useState)(),Jn=Object(l.a)(Rn,2),Pn=Jn[0],En=Jn[1],An=Object(a.useCallback)((function(e){var t=e.selected;!0!==t&&En(t)}),[]),Fn=[{name:"Task",header:"ID",type:"number",defaultFlex:1,maxWidth:70},{name:"Customer",header:"Customer",defaultFlex:1,maxWidth:200,minWidth:150},{name:"Details",header:"Details",defaultFlex:1,minWidth:500},{name:"Area",header:"Department",defaultFlex:1,maxWidth:130},{name:"Application",header:"Ref 1",defaultFlex:1,maxWidth:100},{name:"Reference2",header:"Ref 2",defaultFlex:1,maxWidth:100},{name:"Last Comment",header:"Last Comment",defaultFlex:1},{name:"Requested",header:"Requested",defaultFlex:1,maxWidth:115,sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"Updated",header:"Updated",defaultFlex:1,maxWidth:115,sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"DueDate",header:"Due Date",defaultFlex:1,maxWidth:115,sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"Mins",header:"Estimate",type:"number",defaultFlex:1,maxWidth:120},{name:"P",header:"P",type:"number",defaultFlex:1,maxWidth:75},{name:"ActionByUsername",header:"User",defaultFlex:1},{name:"Owner_Name",header:"Owner",defaultFlex:1}],Ln={SupportCode:0,Customer_Code:340,CustomerName:"HQ Software",CustomerCode:340},Hn=Object(a.useState)(!1),_n=Object(l.a)(Hn,2),Wn=_n[0],Bn=_n[1],Gn=function(){return Bn(!1)},zn=Object(a.useState)([{item:""}]),qn=Object(l.a)(zn,2),Qn=qn[0],Kn=qn[1],Vn=function(){Kn([].concat(Object(g.a)(Qn),[{item:""}]))};return Object(x.jsxs)("div",{className:"main-div",children:[Object(x.jsxs)("h5",{className:"task-amount-heading",children:["Total: ",M]}),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-excel",children:"Export to Excel"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){!function(e){e.current.data.map((function(e){return e.Details=e.Details.toString().replace(",",""),e["Last Comment"]=e["Last Comment"].toString().replace(",",""),e.Details=e.Details.replace(/(\r\n|\n|\r)/gm,""),null}));var t={Sheets:{data:ce.utils.json_to_sheet(e.current.data)},SheetNames:["data"]},n=ce.write(t,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});se(a)}(Pe)},className:"button-to-the-right",children:Object(x.jsx)(oe.b,{})})},"CSVEXPORT"),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-pdf",children:"Export to PDF"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){!function(e,t){var n=new ae.default("landscape","pt"),a=[],r=[],c=[],s=[[e.current.data[0].Task,e.current.data[0].Details,e.current.data[0].Area,e.current.data[0].Application,e.current.data[0].Requested,e.current.data[0]["Last Comment"],e.current.data[0].Updated,e.current.data[0].DueDate,e.current.data[0].Priority,e.current.data[0].ActionByUsername,e.current.data[0].Owner_Name]];"C"===e.current.data[0].State&&a.push(0),!0===e.current.data[0].Urgent&&r.push(0),1===e.current.data[0].P&&c.push(0);for(var i=1;i<e.current.data.length;i++){var o=[e.current.data[i].Task,e.current.data[i].Details,e.current.data[i].Area,e.current.data[i].Application,e.current.data[i].Requested,e.current.data[i]["Last Comment"],e.current.data[i].Updated,e.current.data[i].DueDate,e.current.data[i].Priority,e.current.data[i].ActionByUsername,e.current.data[i].Owner_Name];"C"===e.current.data[i].State&&a.push(i),!0===e.current.data[i].Urgent&&r.push(i),1===e.current.data[i].P&&c.push(i),s.push(o)}var l=P()(new Date).format("Do MMMM YYYY"),j=t.CustomerName+" Report    -    "+l;n.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[["Task","Details","Area","Section","Requested","Status","Updated","Due Date","P","User","Owner"]],body:s,didParseCell:function(e){for(var t=0;t<a.length;t++)e.row.index===a[t]&&(e.cell.styles.fillColor=[87,222,107]);for(var n=0;n<r.length;n++)e.row.index===r[n]&&(e.cell.styles.fontStyle="bold");for(var s=0;s<c.length;s++)e.row.index===c[s]&&1===e.cell.raw&&(e.cell.styles.fillColor=[255,157,156])},didDrawPage:function(e){n.setFontSize(18),n.setTextColor(40),re&&n.addImage(re,"png",20,20,46.5,48,re,"FAST",0),n.text(j,e.settings.margin.left+50,50),n.setFontSize(8)},margin:{top:80}});var u="",d=P()(new Date).format("DDMMYYYY");u=0===t.Customer_Code?"HQSoftware_TASKS.pdf":t.CustomerName+"_TASKS_"+d,n.save(u)}(Pe,Oe)},className:"button-to-the-right",children:Object(x.jsx)(pe.a,{})})},"PDFEXPORT"),Object(x.jsx)(me,{}),Object(x.jsxs)(T.a,{xs:"auto",children:[Object(x.jsxs)(I.a,{children:[Object(x.jsx)(ue,{filterUser:F,filterDepartment:Ne,filterCustomer:Oe,onClick:Me}),Object(x.jsx)(be,{selected:Un,onClick:Me}),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-clear",children:"Clear Filters"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){Se(r),G(s),we(c),document.getElementById("inline-radio-4-all").click()},children:Object(x.jsx)(ye.a,{})})},"ClearFilters"),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-refresh",children:"Refresh"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data)},children:Object(x.jsx)(fe.a,{})})},"Refresh")]}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Group,{controlId:"FILTER.CUSTSelect",children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(Oe),style:{display:"inline",margin:5,width:200},onChange:function(e){Se(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(r),children:r.CustomerName}),Object(x.jsx)("option",{value:JSON.stringify(Ln),children:Ln.CustomerName}),Ze.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.CustomerName},t)}))]})})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(F),style:{margin:5,width:100},onChange:function(e){G(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(i),children:i.Username}),nt.map((function(e,t){return e.Username!==i.Username?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Username},t):void 0})),Object(x.jsx)("option",{value:JSON.stringify(s),children:"All Users"})]})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Group,{controlId:"Filter.DepartmentSelect",children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(Ne),style:{margin:5,width:170},onChange:function(e){return we(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(c),children:c.Department}),Qe.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Department},t)}))]})})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{style:{margin:5,"margin-top":15},children:[Object(x.jsx)(k.a.Check,{inline:!0,label:"1",type:"radio",name:"group1",id:"inline-radio-1",onChange:function(e){return je(1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"2",type:"radio",name:"group1",id:"inline-radio-2",onChange:function(e){return je(2)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"3",type:"radio",name:"group1",id:"inline-radio-3",onChange:function(e){return je(3)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"ALL",type:"radio",name:"group1",id:"inline-radio-4-all",onChange:function(e){return je(0)}})]})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Check,{type:"checkbox",label:"Show Closed Items",style:{margin:5,"margin-top":15},onChange:function(e){Ye(!1===Ue)}})})]}),Object(x.jsx)("div",{className:"grid-div",children:Object(x.jsx)(b.a,{rowClassName:ge,handle:Ee,idProperty:"Task",columns:Fn,dataSource:u,style:{height:"100%",marginRight:10,marginLeft:10},theme:"default-dark",onRenderRow:ln,selected:Un,checkboxColumn:!0,onSelectionChange:Mn,defaultSortInfo:{name:"Task",dir:-1}})}),Object(x.jsxs)(D.a,{show:Vt,onHide:sn,size:"lg",backdrop:"static",children:[Object(x.jsxs)(D.a.Header,{closeButton:!0,children:[Object(x.jsxs)(D.a.Title,{children:["Task: ",st]}),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-pdf",children:"Mark/Unmark as Urgent"}),children:Object(x.jsx)(S.a,{variant:"danger",style:{Margin:10,position:"absolute",left:160},onClick:function(){var e=null;e=null===gt.Urgent?1:null,te(st,e),sn(),jn()},children:Object(x.jsx)(h.a,{})})},"Make-Urgent"),"C"===zt&&Object(x.jsx)(S.a,{variant:"danger",style:{Margin:10,position:"absolute",left:210},onClick:function(){sn(),function(e){var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskID:e})};fetch("/reOpenTask",t)}(st),setTimeout((function(){d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data)}),50)},children:"Reopen Task"}),"O"===zt&&Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-close",children:"Close this Task"}),children:Object(x.jsx)(S.a,{variant:"danger",style:{Margin:10,position:"absolute",left:210},onClick:function(){sn(),wn(),jn()},children:Object(x.jsx)(Ce.a,{})})},"close-task"),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-save",children:"Save Changes"}),children:Object(x.jsx)(S.a,{variant:"secondary",onClick:sn&&jn,style:{position:"absolute",right:50},children:Object(x.jsx)(h.c,{})})},"save-task"),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-email",children:"Email Task"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{position:"absolute",right:100},onClick:function(){window.open(rn)},children:Object(x.jsx)(ie.a,{})})},"send-email"),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-save",children:"Copy Task"}),children:Object(x.jsx)(S.a,{variant:"secondary",onClick:function(){Bn(!0),Xt(!1)},style:{position:"absolute",right:150},children:Object(x.jsx)(Ce.b,{})})},"copy-task")]}),Object(x.jsx)(D.a.Body,{children:Object(x.jsxs)(N.a,{className:"mb-3",onSelect:function(e){"editTask"===e&&document.getElementById("inline-editradio-".concat(gt.Priority)).click()},children:[Object(x.jsxs)(w.a,{eventKey:"history",title:"History",children:[Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"addHistory",children:[Object(x.jsx)(k.a.Label,{children:"Add History:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add History...",value:Le,onChange:function(e){return He(e.target.value)},type:"text"})]}),Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"closeTask.Minutes",children:[Object(x.jsx)(k.a.Label,{children:"Add Time Spent:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,placeholder:"Minutes...",value:Be,onChange:function(e){return Ge(e.target.value)}})]})]}),Object(x.jsx)(b.a,{columns:[{name:"Username",header:"User"},{name:"Time",header:"When"},{name:"Notes",header:"Notes",minWidth:315},{name:"Minutes",header:"Minutes"}],dataSource:jt,editable:!0,style:{minHeight:400}})]}),Object(x.jsxs)(w.a,{eventKey:"editTask",title:"Edit",children:[Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"editTask.CustomerSelect",children:[Object(x.jsx)("h7",{children:"Customer:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:Ze.CustomerName,onChange:function(e){Nt(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{children:gt.Company_Name}),Object(x.jsx)("option",{value:JSON.stringify(Ln),children:Ln.CustomerName}),Ze.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.CustomerName},t)}))]})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"editTask.Department",children:[Object(x.jsx)(k.a.Label,{style:{display:"inline"},children:"Department:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:Qe.Department,onChange:function(e){Ut(JSON.parse(e.target.value)),console.log(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(At),children:At.Department}),Qe.map((function(e,t){return At.Department!==e.Department?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Department},t):void 0}))]})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{controlId:"editTask.UserSelect",children:[Object(x.jsx)(k.a.Label,{style:{display:"inline"},children:"For:"}),Object(x.jsxs)(k.a.Control,{size:"sm",as:"select",value:nt.UserName,onChange:function(e){Jt(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:_t,children:_t.Username}),nt.map((function(e,t){return _t.Username!==e.Username?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Username},t):void 0}))]})]})})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"editTask.Details",children:[Object(x.jsx)(k.a.Label,{children:"Details:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Details...",value:gt.Details,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Details:e.target.value})}))},type:"text"})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"editTask.Notes",children:[Object(x.jsx)(k.a.Label,{children:"Notes:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Notes...",value:gt.Notes,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Notes:e.target.value})}))},type:"text"})]})})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsxs)(I.a,{children:[Object(x.jsx)(k.a.Label,{children:"Due Date:\xa0\xa0\xa0"}),Object(x.jsx)(R.a,{selected:ht,onChange:function(e){return vt((function(t){return Ot(new Date(e)),Object(v.a)(Object(v.a)({},t),{},{DueDate:P()(e).format("YYYY-MM-DDThh:mm:ss.000")})}))},dateFormat:"dd/MM/yyyy",calendarStartDay:1})]}),Object(x.jsxs)(I.a,{children:[Object(x.jsx)(k.a.Label,{children:"Requested Date:\xa0\xa0\xa0"}),Object(x.jsx)(R.a,{selected:pt,onChange:function(e){return vt((function(t){return ft(e),Object(v.a)(Object(v.a)({},t),{},{Requested:P()(e).format("YYYY-MM-DDThh:mm:ss.000")})}))},dateFormat:"dd/MM/yyyy",calendarStartDay:1})]}),Object(x.jsxs)(I.a,{children:[Object(x.jsx)(k.a.Label,{children:"Priority:\xa0\xa0"}),Object(x.jsx)("br",{}),Object(x.jsx)(k.a.Check,{inline:!0,label:"1",type:"radio",name:"group1",id:"inline-editradio-1",onChange:function(e){return vt((function(e){return Object(v.a)(Object(v.a)({},e),{},{Priority:1})}))}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"2",type:"radio",name:"group1",id:"inline-editradio-2",onChange:function(e){return vt((function(e){return Object(v.a)(Object(v.a)({},e),{},{Priority:2})}))}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"3",type:"radio",name:"group1",id:"inline-editradio-3",onChange:function(e){return vt((function(e){return Object(v.a)(Object(v.a)({},e),{},{Priority:3})}))}})]})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"editTask.Section",style:{marginTop:15},children:[Object(x.jsx)(k.a.Label,{children:"Reference 1:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:gt.Reference,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Reference:e.target.value})}))}})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Area",style:{marginTop:15},children:[Object(x.jsx)(k.a.Label,{children:"Reference 2:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:gt.Reference2,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Reference2:e.target.value})}))}})]})})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"editTask.Contact",children:[Object(x.jsx)(k.a.Label,{children:"Requester:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:gt.Reference3,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Reference3:e.target.value})}))}})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Estimate",children:[Object(x.jsx)(k.a.Label,{children:"Estimate:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:gt.Reference4,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Reference4:e.target.value})}))}})]})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Invoice",children:[Object(x.jsx)(k.a.Label,{children:"Invoice:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:gt.Invoice,onChange:function(e){return vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Invoice:e.target.value})}))}})]})})]})]}),Object(x.jsx)(k.a.Label,{children:"Items:"}),Qn.map((function(e,t){return Object(x.jsx)("div",{className:"box",children:Object(x.jsxs)(k.a.Group,{as:T.a,controlId:"newItems",style:{marginTop:5},children:[Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{size:"sm",as:"textarea",rows:1,type:"text",name:"item",value:e.item,onChange:function(e){return function(e,t){var n=e.target,a=n.name,r=n.value,c=Object(g.a)(Qn);c[t][a]=r,Kn(c)}(e,t)}})}),Object(x.jsx)(I.a,{xs:1,children:1!==Qn.length&&Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-removeitem",children:"Remove Item"}),children:Object(x.jsx)(S.a,{size:"sm",className:"mr10",variant:"secondary",onClick:function(){return function(e){var t=Object(g.a)(Qn);t.splice(e,1),Kn(t)}(t)},children:Object(x.jsx)(le.a,{})})},"RemoveItem")}),Object(x.jsx)(I.a,{xs:1,children:Qn.length-1===t&&Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-additem",children:"Add Item"}),children:Object(x.jsx)(S.a,{size:"sm",variant:"secondary",onClick:Vn,children:Object(x.jsx)(le.b,{})})},"AddItem")})]})})}))]}),Object(x.jsx)(w.a,{eventKey:"items",title:"Items",children:Object(x.jsx)(b.a,{idProperty:"ID",selected:Pn,checkboxColumn:!0,onSelectionChange:An,columns:[{name:"ID",header:"ID",defaultVisible:!1},{name:"Details",header:"Details",minWidth:730}],dataSource:p,style:{minHeight:400},rowClassName:ve,editable:!0})})]})})]}),Object(x.jsxs)(D.a,{show:en,onHide:Nn,children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsxs)(D.a.Title,{children:["Close Task: ",st]})}),Object(x.jsxs)(D.a.Body,{children:[Object(x.jsx)(k.a.Group,{controlId:"closeTask.ReasonSelect",children:Object(x.jsxs)(k.a.Control,{as:"select",value:bn.Reason,onChange:function(e){return pn(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:{},children:"Select Close Reason . . ."}),bn.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Reason},t)}))]})}),Object(x.jsxs)(k.a.Label,{children:["Time Spent: ",Dn]}),Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"closeTask.Minutes",children:[Object(x.jsx)(k.a.Label,{children:"Additional Minutes:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,type:"text",value:Cn,placeholder:"Additional Minutes...",onChange:function(e){return gn(e.target.value)}})]})]}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(S.a,{variant:"secondary",onClick:Nn,children:"Cancel"}),Object(x.jsx)(S.a,{variant:"danger",onClick:Nn&&function(){Nn();var e="Task Closed: "+xn.Reason;void 0!==xn.Code?(H(e,st,n,Cn),function(e,t,n){var a=new Date,r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Task:e,Code:t,Minutes:n,Date:a})};fetch("/closeTask/",r)}(st,xn.Code,Cn)):(alert("Please select Reason for Closing Task"),wn()),setTimeout((function(){d(xe(F.UserId,X,Ue,Oe.Customer_Code,Ne.Code).data)}),500),gn()},children:"Close Task"})]})]}),Object(x.jsxs)(D.a,{show:Wn,onHide:Gn,children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsxs)(D.a.Title,{children:["Copying task ",st]})}),Object(x.jsxs)(D.a.Body,{children:["Are you sure you want to copy Task: ",st," ?"]}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(S.a,{variant:"secondary",onClick:Gn,children:"Cancel"}),Object(x.jsx)(S.a,{variant:"primary",onClick:Gn&&function(){Gn(),B().then((function(e){it(e[0][""]),W(e[0][""],gt.Company_Name,gt.Account,gt.Details,gt.Priority,gt.DueDate,gt.Requested,gt.Department,gt.Owner_Name,gt.ActionBy,gt.Reference,gt.Reference3,gt.Reference2,gt.Notes,gt.Reference4,gt.Invoice,gt.Urgent),ee(e[0][""],n),vt((function(t){return Object(v.a)(Object(v.a)({},t),{},{Issue_No:e[0][""]})}));L(e[0][""]).then((function(e){ut(e),e.forEach((function(e){e.Minutes})),Xt(!0)})),setTimeout((function(){Me()}),300)}))},children:"Yes"})]})]})]})};function De(){return(De=Object(F.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnSupportSummary/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=!0;return function(e){return De.apply(this,arguments)}(e.customer).then((function(e){t&&c(e)})),function(){return t=!1}}),[e]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.a,{columns:[{name:"Username",header:"User",type:"strin",defaultFlex:1,maxWidth:80},{name:"Datetime",header:"When",defaultFlex:1,maxWidth:100},{name:"Details",header:"Details",defaultFlex:1,editable:!0}],dataSource:r,style:{minHeight:441,marginRight:10,marginLeft:10},theme:"default-dark"})})};function Ne(){return(Ne=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnCustomers");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(F.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/returnSupportReasons");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e).userId,n={SupportCode:0,Customer_Code:0,CustomerName:"Select Customer",CustomerCode:0},r={Code:0,Reason:"Select Reason"},c=Object(a.useState)(n),s=Object(l.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)([]),u=Object(l.a)(j,2),d=u[0],b=u[1],O=Object(a.useState)(""),m=Object(l.a)(O,2),p=m[0],f=m[1],y=Object(a.useState)(new Date),C=Object(l.a)(y,2),g=C[0],v=C[1],D=Object(a.useState)([]),N=Object(l.a)(D,2),w=N[0],T=N[1],I=Object(a.useState)(r),M=Object(l.a)(I,2),J=M[0],E=M[1],A=Object(a.useState)(0),F=Object(l.a)(A,2),L=F[0],H=F[1],_=Object(a.useState)(!1),W=Object(l.a)(_,2),B=W[0],G=W[1],z=Object(a.useState)("N"),q=Object(l.a)(z,2),Q=q[0],K=q[1],V=Object(a.useState)("N"),X=Object(l.a)(V,2),Z=X[0],$=X[1],ee=Object(a.useState)("N"),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)("N"),ce=Object(l.a)(re,2),se=ce[0],ie=ce[1],oe=Object(a.useState)("N"),le=Object(l.a)(oe,2),je=le[0],ue=le[1],de=Object(a.useState)(!1),be=Object(l.a)(de,2),he=be[0],Oe=be[1],me=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=!0;return function(){return Ne.apply(this,arguments)}().then((function(t){e&&b(t)})),function(){return we.apply(this,arguments)}().then((function(t){e&&T(t)})),function(){return e=!1}}),[]);var xe=function(){me.current.reset(),Oe(!1),f(""),v(new Date),E(r),H(),K("N"),$("N"),ae("N"),ie("N"),ue("N");var e=i;o(n),setTimeout((function(){o(e)}),50)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{width:"35%",position:"fixed",right:"60%",marginTop:"2%",marginBottom:"100"},children:Object(x.jsxs)(k.a,{ref:me,validated:he,children:[Object(x.jsxs)(k.a.Group,{controlId:"select.customer",children:[Object(x.jsx)(k.a.Label,{children:"Customer: "}),Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(i),style:{display:"inline",margin:5,width:"80%"},onChange:function(e){o(JSON.parse(e.target.value)),document.getElementById("editTask.Details").focus()},children:[Object(x.jsx)("option",{value:JSON.stringify(n),children:n.CustomerName}),d.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.CustomerName},t)}))]})]}),Object(x.jsx)(k.a.Group,{className:"mb-3",controlId:"editTask.Details",children:Object(x.jsx)(k.a.Control,{as:"textarea",rows:5,placeholder:"Details...",value:p,onChange:function(e){return f(e.target.value)},type:"text",style:{backgroundColor:"#fbff85"}})}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(R.a,{selected:g,onChange:function(e){return v(e)},dateFormat:"dd/MM/yyyy",calendarStartDay:1})}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Minutes:\xa0\xa0\xa0"}),Object(x.jsx)(k.a.Check,{inline:!0,label:"5",name:"group1",type:"radio",id:"inline-radio-5m",onChange:function(e){H(5),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"10",name:"group1",type:"radio",id:"inline-radio-10m",onChange:function(e){H(10),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"15",name:"group1",type:"radio",id:"inline-radio-15m",onChange:function(e){H(15),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"30",name:"group1",type:"radio",id:"inline-radio-30m",onChange:function(e){H(30),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"45",name:"group1",type:"radio",id:"inline-radio-45m",onChange:function(e){H(45),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"60",name:"group1",type:"radio",id:"inline-radio-60m",onChange:function(e){H(60),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"90",name:"group1",type:"radio",id:"inline-radio-90m",onChange:function(e){H(90),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"120",name:"group1",type:"radio",id:"inline-radio-120m",onChange:function(e){H(120),G(!1)}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Other",name:"group1",type:"radio",id:"inline-radio-other",onChange:function(e){H(),G(!0)}}),!0===B&&Object(x.jsx)(k.a.Control,{as:"textarea",rows:1,placeholder:"Minutes",value:L,onChange:function(e){return H(e.target.value)},type:"text",style:{position:"absolute",right:0,width:120,display:"inline"}})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Actions: \xa0\xa0\xa0"}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Phone",name:"group2",type:"checkbox",id:"inline-check-phone",onChange:function(e){K("N"===Q?"Y":"N")}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Email",name:"group2",type:"checkbox",id:"inline-check-email",onChange:function(e){$("N"===Z?"Y":"N")}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Remote Access",name:"group2",type:"checkbox",id:"inline-check-remote",onChange:function(e){ae("N"===ne?"Y":"N")}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Site Visit",name:"group2",type:"checkbox",id:"inline-check-sitevisit",onChange:function(e){ie("N"===se?"Y":"N")}}),Object(x.jsx)(k.a.Check,{inline:!0,label:"Out of Hours",name:"group2",type:"checkbox",id:"inline-check-outofhours",onChange:function(e){ue("N"===je?"Y":"N")}})]}),Object(x.jsxs)(k.a.Group,{controlId:"support.ReasonSelect",children:[Object(x.jsx)(k.a.Label,{children:"Reason: \xa0\xa0\xa0\xa0\xa0"}),Object(x.jsxs)(k.a.Control,{as:"select",value:w.Reason,style:{display:"inline",margin:5,width:"80%"},onChange:function(e){return E(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:r,children:r.Reason}),w.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Reason},t)}))]})]}),Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-save",children:"Save"}),children:Object(x.jsx)(S.a,{onClick:function(){var e=P()(g).format("YYYY-MM-DD hh:mm:ss");"Select Customer"===i.CustomerName?alert("Please Select a Customer"):""==p?alert("Please add some Details"):0===J.Code?alert("Please Select a Reason"):(!function(e,t,n,a,r,c,s,i,o,l,j){var u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({SupportCode:e,User:j,Date:n,Details:t,Phone:r,Email:c,Site:i,Minutes:a,Remote:s,Reason:l,OutOfHours:o})};fetch("/addQuickSupport/",u)}(i.SupportCode,p,e,L,Q,Z,ne,se,je,J.Code,t),xe())},className:"button-to-the-right",variant:"secondary",children:Object(x.jsx)("h4",{children:Object(x.jsx)(h.c,{})})})},"save-task")]})}),Object(x.jsx)("div",{style:{width:"40%",position:"absolute",left:"50%",marginTop:"2%"},children:Object(x.jsx)(ke,{customer:i.SupportCode})})]})};var Ie=function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e),n=(t.username,t.userId,{SupportCode:0,Customer_Code:0,CustomerName:"All Customers",CustomerCode:0}),r={UserId:t.userId,Username:t.username},c={SupportCode:0,Customer_Code:340,CustomerName:"HQ Software",CustomerCode:340},s=Object(a.useState)([]),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),h=d[0],O=d[1],m=Object(a.useState)([]),p=Object(l.a)(m,2),f=p[0],y=p[1],C=Object(a.useState)([]),g=Object(l.a)(C,2),v=g[0],D=g[1],N=Object(a.useState)(r),w=Object(l.a)(N,2),M=w[0],J=w[1],E=Object(a.useState)(n),A=Object(l.a)(E,2),F=A[0],L=A[1],H=new Date;H.setDate(H.getDate()+1);var _=Object(a.useState)(new Date),W=Object(l.a)(_,2),B=W[0],G=W[1],q=Object(a.useState)(H),Q=Object(l.a)(q,2),K=Q[0],X=Q[1];Object(a.useEffect)((function(){var e=!0,t=P()(B).format("YYYY-MM-DDT00:00:00"),n=P()(K).format("YYYY-MM-DDT11:59:59"),a=function(e,t,n,a){return fetch("/getCloseTaskGrid/"+e+"&"+t+"&"+n+"&"+a).then((function(e){return e.json()}))}(F.Customer_Code,M.UserId,t,n);return j(a),z().then((function(t){e&&y(t)})),V().then((function(t){e&&D(t)})),function(){return e=!1}}),[M,F.Customer_Code,B,K]);var Z=[{name:"Task",header:"ID",type:"number",defaultFlex:1,maxWidth:70},{name:"Customer",header:"Customer",defaultFlex:1,maxWidth:200,minWidth:150},{name:"Details",header:"Details",defaultFlex:1,minWidth:500},{name:"Owner_Name",header:"Owner",defaultFlex:1},{name:"ActionByUsername",header:"Allocated To",defaultFlex:1},{name:"Requested",header:"Requested",defaultFlex:1,maxWidth:115,sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"DateCompleted",header:"Date Complete",defaultFlex:1,maxWidth:115,sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"Estimate",header:"Estimate",defaultFlex:1,maxWidth:130},{name:"TimeSpent",header:"Minutes Spent",defaultFlex:1,maxWidth:100},{name:"DaysToComplete",header:"Days To Complete",defaultFlex:1,maxWidth:100}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-pdf",children:"Export to PDF"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5,position:"absolute",bottom:"810px",right:50},onClick:function(){!function(e,t){var n=new ae.default("landscape","pt"),a=[],r=[[e.current.data[0].Task,e.current.data[0].Details,e.current.data[0].Requested,e.current.data[0].DateCompleted,e.current.data[0].DaysToComplete,e.current.data[0].TimeSpent,e.current.data[0].ActionByUsername]];"C"===e.current.data[0].State&&a.push(0);for(var c=1;c<e.current.data.length;c++){var s=[e.current.data[c].Task,e.current.data[c].Details,e.current.data[c].Requested,e.current.data[c].DateCompleted,e.current.data[c].DaysToComplete,e.current.data[c].TimeSpent,e.current.data[c].ActionByUsername];"C"===e.current.data[c].State&&a.push(c),r.push(s)}var i=P()(new Date).format("Do MMMM YYYY"),o=t.CustomerName+" Closed Tasks    -    "+i;n.autoTable({styles:{fontSize:8},theme:"grid",headStyles:{fillColor:[55,55,55]},head:[["Task","Details","Requested","Completed","Days","Time","User"]],body:r,didParseCell:function(e){for(var t=0;t<a.length;t++)e.row.index===a[t]&&(e.cell.styles.fillColor=[87,222,107])},didDrawPage:function(e){n.setFontSize(18),n.setTextColor(40),re&&n.addImage(re,"png",20,20,46.5,48,re,"FAST",0),n.text(o,e.settings.margin.left+50,50),n.setFontSize(8)},margin:{top:80}});var l="",j=P()(new Date).format("DDMMYYYY");l=0===t.Customer_Code?"HQSoftware_CLOSEDTASKS.pdf":t.CustomerName+"_CLOSEDTASKS_"+j,n.save(l)}(h,F)},className:"button-to-the-right",children:Object(x.jsx)(pe.a,{})})},"PDFEXPORT"),Object(x.jsxs)(T.a,{xs:"auto",style:{position:"absolute",left:"300px",bottom:"800px"},children:[Object(x.jsx)(I.a,{children:Object(x.jsx)("h1",{class:"font-weight-light",children:"Closed Tasks"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Group,{controlId:"FILTER.CUSTSelect",children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(F),style:{margin:5,width:200},onChange:function(e){L(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(n),children:n.CustomerName}),Object(x.jsx)("option",{value:JSON.stringify(c),children:c.CustomerName}),f.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.CustomerName},t)}))]})})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(M),style:{margin:5,width:100},onChange:function(e){J(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(r),children:r.Username}),v.map((function(e,t){return e.Username!==r.Username?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Username},t):void 0})),Object(x.jsx)("option",{value:JSON.stringify({Username:"None Selected",UserId:0}),children:"All Users"})]})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("div",{style:{margin:"10px"},children:Object(x.jsx)(R.a,{selected:B,onChange:function(e){G(e)},selectsStart:!0,startDate:B,endDate:K,dateFormat:"dd/MM/yyyy"})})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("div",{style:{margin:"10px"},children:Object(x.jsx)(R.a,{selected:K,onChange:function(e){X(e)},selectsEnd:!0,startDate:B,endDate:K,minDate:B,dateFormat:"dd/MM/yyyy"})})})]}),Object(x.jsx)(b.a,{handle:O,idProperty:"Task",columns:Z,dataSource:o,style:{minHeight:715,position:"absolute",left:"300px",top:150,width:"82%"},theme:"default-dark"})]})},Ue=n(408),Ye=n(902),Me=n(906),Re=n(422),Je=n(423),Pe=n(194),Ee=n(427);var Ae=function(){var e=new Date;e.setDate(e.getDate()+1);var t=Object(a.useState)(new Date),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(e),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],h=d[1],O=sessionStorage.getItem("token"),m=JSON.parse(O),p={UserId:m.userId,Username:m.username},f=Object(a.useState)(p),y=Object(l.a)(f,2),C=y[0],g=y[1],v=Object(a.useState)([]),S=Object(l.a)(v,2),D=(S[0],S[1]),N=Object(a.useState)([]),w=Object(l.a)(N,2),U=(w[0],w[1]),Y=Object(a.useState)([]),M=Object(l.a)(Y,2),J=(M[0],M[1]),E=Object(a.useState)([]),A=Object(l.a)(E,2),F=A[0],L=A[1];return Object(a.useEffect)((function(){var e=[],t=[],n=[];(function(e,t,n){return fetch("/getTimeSpent/"+e+"&"+t+"&"+n).then((function(e){return e.json()}))})(P()(r).format("YYYY-MM-DDT00:00:00"),P()(o).format("YYYY-MM-DDT11:59:59"),C.UserId).then((function(a){for(var r=0;r<a.length;r++)t.push(a[r].TaskTime),n.push(a[r].SupportTime),e.push(a[r].Customer);L(a)})),D(e),U(t),J(n),console.log(F),V().then((function(e){h(e)}))}),[r,o,C]),Object(x.jsx)("div",{style:{position:"absolute",left:"300px",top:"100px",width:"80%"},children:Object(x.jsxs)(Ue.a,{children:[Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{children:Object(x.jsx)("h1",{class:"font-weight-light",children:"Time Spent"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("div",{style:{margin:"5px",width:"300px"},children:Object(x.jsx)(R.a,{selected:r,onChange:function(e){c(e)},selectsStart:!0,startDate:r,endDate:o,dateFormat:"dd/MM/yyyy"})})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("div",{style:{margin:"5px",width:"300px"},children:Object(x.jsx)(R.a,{selected:o,onChange:function(e){j(e)},selectsEnd:!0,startDate:r,endDate:o,minDate:r,dateFormat:"dd/MM/yyyy"})})}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Control,{as:"select",value:b.Username,style:{margin:5,width:100,display:"inline"},onChange:function(e){var t=JSON.parse(e.target.value);g(t)},children:[Object(x.jsx)("option",{value:JSON.stringify(p),children:p.Username}),b.map((function(e,t){return e.Username!==p.Username?Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Username},t):void 0})),Object(x.jsx)("option",{value:JSON.stringify({Username:"none",UserId:""}),children:"All Users"})]})})]}),Object(x.jsx)(T.a,{children:Object(x.jsx)(I.a,{children:Object(x.jsxs)(Ye.a,{width:1300,height:700,data:F,children:[Object(x.jsx)(Me.a,{strokeDasharray:"3 3"}),Object(x.jsx)(Re.a,{dataKey:"Customer"}),Object(x.jsx)(Je.a,{}),Object(x.jsx)(Pe.a,{}),Object(x.jsx)(Ee.a,{dataKey:"SupportTime",fill:"#CEEAF7"}),Object(x.jsx)(Ee.a,{dataKey:"TaskTime",fill:"#82ca9d"})]})})})]})})},Fe=(n(885),n(170)),Le=n(424);var He=function(){return Object(x.jsxs)(Fe.c,{breakpoint:"xl",children:[Object(x.jsx)(Fe.d,{children:Object(x.jsxs)(Fe.a,{iconShape:"circle",children:[Object(x.jsxs)(Fe.b,{icon:Object(x.jsx)(le.c,{}),children:["Time Spent",Object(x.jsx)(i.b,{to:"/Report1"})]}),Object(x.jsxs)(Fe.b,{icon:Object(x.jsx)(Le.a,{}),children:["Closed Tasks",Object(x.jsx)(i.b,{to:"/Report1/Closed"})]})]})}),Object(x.jsx)("div",{style:{height:"80vh",display:"inline"}})]})};var _e=function(){return Object(x.jsx)("div",{className:"Report1",children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(He,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/Report1",exact:!0,component:function(){return Object(x.jsx)(Ae,{})}}),Object(x.jsx)(o.a,{path:"/Report1/Closed",exact:!0,component:function(){return Object(x.jsx)(Ie,{})}})]})]})})},We=function(e){return fetch("/returnErrors/"+e).then((function(e){return e.json()}))};var Be=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),s=Object(l.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)([]),u=Object(l.a)(j,2),d=u[0],h=u[1];Object(a.useEffect)((function(){var e=!0;return o(JSON.parse(localStorage.getItem("CustomerErrorCheck"))),We(JSON.parse(localStorage.getItem("CustomerErrorCheck")).CustomerCode).then((function(t){e&&r(t)})),fetch("/returnAlerts").then((function(e){return e.json()})).then((function(t){e&&h(t)})),function(){return e=!1}}),[]);var O=function(e){We(e.CustomerCode).then((function(e){r(e)}))},m=[{name:"Customer_Name",header:"Customer",minWidth:250,type:"string"},{name:"Details",header:"Details",minWidth:1200,type:"string"},{name:"ErrorDate",header:"Error Date",type:"string",maxWidth:250,minWidth:200,sort:function(e,t){return e=P()(e,"DD/MM/YYYY, HH:mm:ss",!0).format(),t=P()(t,"DD/MM/YYYY, HH:mm:ss",!0).format(),new Date(e)-new Date(t)}},{name:"UploadDate",header:"Upload Date",type:"string",maxWidth:250,minWidth:200,sort:function(e,t){return e=P()(e,"DD/MM/YYYY, HH:mm:ss",!0).format(),t=P()(t,"DD/MM/YYYY, HH:mm:ss",!0).format(),new Date(e)-new Date(t)}}],p=Object(a.useState)({}),f=Object(l.a)(p,2),y=f[0],C=f[1],g=Object(a.useCallback)((function(e){var t=e.selected;!0!==t&&C(t)}),[]),v=Object(a.useState)(!1),N=Object(l.a)(v,2),w=N[0],M=N[1],R=function(){M(!1),C({}),O(i)},J=!0;return J=JSON.stringify(y).length<3,Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"errors",children:[Object(x.jsxs)(T.a,{xs:"auto",children:[Object(x.jsx)(I.a,{children:Object(x.jsxs)("h3",{children:["Total Errors: ",i.ErrorCount]})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-pdf",children:"Flag Selected Errors"}),children:Object(x.jsx)(S.a,{variant:"secondary",onClick:function(){M(!0)},disabled:J,className:"button-to-the-right",children:Object(x.jsx)(Ce.c,{})})},"Make-Urgent")}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{as:"select",value:JSON.stringify(i),style:{display:"inline",margin:5,width:400,marginLeft:800},onChange:function(e){o(JSON.parse(e.target.value)),O(JSON.parse(e.target.value))},children:d.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.Customer_Name},t)}))})})]}),Object(x.jsx)(b.a,{idProperty:"Details",columns:m,dataSource:n,style:{minHeight:750,margin:10},theme:"default-dark",selected:y,checkboxColumn:!0,onSelectionChange:g,editable:!0}),Object(x.jsxs)(D.a,{show:w,onHide:R,children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsx)(D.a.Title,{children:"Flag Errors"})}),Object(x.jsx)(D.a.Body,{children:"How do you want to flag the selected Errors?"}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(S.a,{variant:"secondary",onClick:R,children:"Cancel"}),Object(x.jsx)(S.a,{variant:"primary",onClick:function(){Object.keys(y).forEach((function(e){console.log(e),function(e){var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({detail:e})};fetch("/processErrorReviewed",t)}(e)})),R()},children:"Reviewed"}),Object(x.jsx)(S.a,{variant:"primary",onClick:function(){Object.keys(y).forEach((function(e){console.log(e),function(e){var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({detail:e})};fetch("/processErrorConfirmed",t)}(e)})),R()},children:"Confirmed"})]})]})]})})};n(886);var Ge=function(e){var t=sessionStorage.getItem("token"),n=JSON.parse(t).username,r=Object(a.useState)(!1),c=Object(l.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),u=j[0],d=j[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=h[0],m=h[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),y=f[0],C=f[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),N=v[0],w=v[1],M=function(){i(!1),d(""),m(""),C(""),w("")},R=function(){fetch("/newUpdateId").then((function(e){return e.json()})).then((function(t){(function(e,t,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:e,Version:t,ProductID:n})};return fetch("/addUpdateHeader/",a)})(n,u,e.product.ProductID).then((function(){(function(e,t,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UpdateId:e,Details:t,Comment:n})};return fetch("/addUpdateDetail/",a)})(t[0][""],O,N).then((function(){!function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UpdateId:e,Sql:t})};fetch("/addUpdateSQL/",n)}(t[0][""],y)}))}))})),M()};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(U.a,{placement:"bottom",overlay:Object(x.jsx)(Y.a,{id:"tooltip-newversion",children:"New Version"}),children:Object(x.jsx)(S.a,{variant:"secondary",style:{margin:5},onClick:function(){i(!0)},className:"button-to-the-left",children:Object(x.jsx)(oe.a,{})})},"NewVersion"),Object(x.jsxs)(D.a,{show:s,onHide:M,size:"lg",children:[Object(x.jsx)(D.a.Header,{closeButton:!0,children:Object(x.jsxs)(D.a.Title,{children:["New Version - ",e.product.ProductName," "]})}),Object(x.jsx)(D.a.Body,{children:Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(T.a,{children:[Object(x.jsx)(I.a,{xs:2,children:Object(x.jsx)("h7",{children:"Version:"})}),Object(x.jsx)(I.a,{children:Object(x.jsx)(k.a.Control,{style:{display:"inline"},size:"sm",as:"textarea",rows:1,type:"text",value:u,onChange:function(e){return d(e.target.value)}})})]}),Object(x.jsx)(T.a,{children:Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Details",children:[Object(x.jsx)("h7",{children:"Description:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add Decription...",value:O,onChange:function(e){return m(e.target.value)},type:"text",size:"sm"})]})})}),Object(x.jsx)(T.a,{children:Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Notes",children:[Object(x.jsx)("h7",{children:"SQL:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add SQL...",value:y,onChange:function(e){return C(e.target.value)},type:"text",size:"sm"})]})})}),Object(x.jsx)(T.a,{children:Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"newTask.Notes",children:[Object(x.jsx)("h7",{children:"Comment:"}),Object(x.jsx)(k.a.Control,{as:"textarea",rows:3,placeholder:"Add Comment...",value:N,onChange:function(e){return w(e.target.value)},type:"text",size:"sm"})]})})})]})}),Object(x.jsxs)(D.a.Footer,{children:[Object(x.jsx)(S.a,{variant:"secondary",onClick:M,children:"Close"}),Object(x.jsx)(S.a,{variant:"primary",onClick:function(){R(),M()},children:"Create Version"})]})]})]})};var ze=function(){var e={MailingList:"",ProductID:null,ProductName:"Select a Product",ProductURL:""},t=Object(a.useState)({}),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(e),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),h=d[0],O=d[1],m=function(e){var t;(t=e.ProductID,fetch("/returnProductGrid/"+t).then((function(e){return e.json()}))).then((function(e){c(e)}))};Object(a.useEffect)((function(){var e=!0;return fetch("/returnProductList").then((function(e){return e.json()})).then((function(t){e&&O(t)})),function(){return e=!1}}),[]);var p=[{name:"Datetime",header:"Date",type:"string",sort:function(e,t){return e=P()(e,"DD/MM/YYYY",!0).format(),t=P()(t,"DD/MM/YYYY",!0).format(),new Date(e)-new Date(t)}},{name:"Version",header:"Version",type:"string"},{name:"Username",header:"User",type:"string"},{name:"UpdateDesc",header:"Description",type:"string",minWidth:1255}];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"Products",children:[Object(x.jsxs)(T.a,{size:"xs",children:[Object(x.jsx)(I.a,{children:Object(x.jsx)(Ge,{product:o})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("h3",{children:o.ProductName})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("h6",{className:"productURL",children:Object(x.jsx)("a",{href:o.ProductURL,children:o.ProductURL})})}),Object(x.jsx)(I.a,{}),Object(x.jsx)(I.a,{children:Object(x.jsxs)(k.a.Control,{as:"select",value:JSON.stringify(o),style:{display:"inline",margin:5,width:400},onChange:function(e){j(JSON.parse(e.target.value)),m(JSON.parse(e.target.value))},children:[Object(x.jsx)("option",{value:JSON.stringify(e),children:e.ProductName},0),h.map((function(e,t){return Object(x.jsx)("option",{value:JSON.stringify(e),children:e.ProductName},t)}))]})})]}),Object(x.jsx)(T.a,{children:Object(x.jsx)(b.a,{idProperty:"id",columns:p,dataSource:r,style:{minHeight:750,margin:10},theme:"default-dark",editable:!0})})]})})};n(887);var qe=n.p+"static/media/HQicon.9e6c548a.ico";function Qe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(F.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){var t=e.setToken,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),j=o[0],u=o[1],d=function(){var e=Object(F.a)(A.a.mark((function e(n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),n.preventDefault(),e.next=4,Qe({username:c,password:j});case 4:"q>)*8n[TfhTyZAW"!==(a=e.sent).token?(alert("Invalid Username/Password"),s(""),u("")):t(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){return fetch("/checkDueDate/",{method:"PUT",headers:{"Content-Type":"application/json"}})};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"login-logo",children:Object(x.jsx)("img",{src:qe,alt:"logo"})}),Object(x.jsxs)("div",{className:"login-wrapper",children:[Object(x.jsx)("h2",{children:"HQ Business - Log In"}),Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(k.a.Group,{className:"mb-3",controlId:"emailInput",children:[Object(x.jsx)(k.a.Label,{children:"User:"}),Object(x.jsx)(k.a.Control,{type:"email",placeholder:"Enter username",onChange:function(e){return s(e.target.value)}})]}),Object(x.jsxs)(k.a.Group,{className:"mb-3",constrolId:"passwordInput",children:[Object(x.jsx)(k.a.Label,{children:"Password:"}),Object(x.jsx)(k.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return u(e.target.value)}})]}),Object(x.jsx)(S.a,{variant:"secondary",type:"submit",onClick:d,className:"button-to-the-right",children:"Submit"})]})]}),Object(x.jsx)(C,{})]})}var Xe=function(){var e=function(){var e=Object(a.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(l.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:n}}(),t=e.token,n=e.setToken;return t&&"q>)*8n[TfhTyZAW"!==t&&(alert("Invalid Log-in Token"),localStorage.removeItem("token")),t?Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(y,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",exact:!0,component:function(){return Object(x.jsx)(Se,{})}}),Object(x.jsx)(o.a,{path:"/Report1",exact:!0,component:function(){return Object(x.jsx)(_e,{})}}),Object(x.jsx)(o.a,{path:"/Support",exact:!0,component:function(){return Object(x.jsx)(Te,{})}}),Object(x.jsx)(o.a,{path:"/Products",exact:!0,component:function(){return Object(x.jsx)(ze,{})}}),Object(x.jsx)(o.a,{path:"/Errors",exact:!0,component:function(){return Object(x.jsx)(Be,{})}})]}),Object(x.jsx)(C,{})]})}):Object(x.jsx)(Ve,{setToken:n})},Ze=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,1277)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Xe,{})}),document.getElementById("root")),Ze()}},[[888,1,2]]]);
//# sourceMappingURL=main.02fd7e9a.chunk.js.map